(()=>{var e,t={5708:(e,t,n)=>{"use strict";var i,a,r,s,o="text/plain",d="view-extra-action";!function(e){e[e.normal=0]="normal",e[e.active=1]="active",e[e.inactive=2]="inactive",e[e.warning=3]="warning"}(i||(i={})),function(e){e[e.number=0]="number",e[e.string=1]="string",e[e.boolean=2]="boolean",e[e.collection=3]="collection"}(a||(a={})),function(e){e[e.top=0]="top",e[e.right=1]="right",e[e.left=2]="left",e[e.bottom=3]="bottom"}(r||(r={})),function(e){e[e.first=0]="first",e[e.last=1]="last"}(s||(s={}));const l=new(function(){function e(){}var t=e.prototype;return t.scrollSmoothToId=function(e){var t=document.getElementById(e);null!==t&&t.scrollIntoView({block:"start",behavior:"smooth"})},t.scrollToBottomNow=function(e,t){void 0===t&&(t=100),e&&(e.scrollTop=e.scrollHeight-e.clientHeight+t)},t.scrollToBottomSmooth=function(e,t){void 0===t&&(t=100),e&&(e.scrollIntoView({behavior:"smooth"}),e.scrollTop=e.scrollHeight-e.clientHeight+t)},t.scrollSmoothTo=function(e){e.scrollIntoView({block:"start",behavior:"smooth"})},t.scrollTo=function(e){e.scrollIntoView({block:"start"})},t.removeAllChildren=function(e){if(e&&e.firstChild)for(;e.firstChild;){var t=e.lastChild;t&&e.removeChild(t)}},t.addRemoveClasses=function(e,t,n){void 0===n&&(n=!0),t.split(" ").forEach((function(t){t.trim().length>0&&(n?e.classList.add(t):e.classList.remove(t))}))},t.addAttributes=function(e,t){t&&t.forEach((function(t){e.setAttribute(t.name,t.value)}))},t.removeAttributes=function(e,t){t.forEach((function(t){e.removeAttribute(t)}))},t.allElementsFromPoint=function(e,t){for(var n,i=[],a=[];(n=document.elementFromPoint(e,t))&&n!==document.documentElement;)i.push(n),a.push(n.style.visibility),n.style.visibility="hidden";for(var r=0;r<i.length;r++)i[r].style.visibility=a[r];return i.reverse(),i},e}());var c=n(1227),u=n.n(c),f=function(){function e(){this.suppressEventEmits=!1,this.viewListeners=[]}var t=e.prototype;return t.addListener=function(e){this.viewListeners.push(e)},t.suppressEvents=function(){this.suppressEventEmits=!0},t.emitEvents=function(){this.suppressEventEmits=!1},t.itemDeleted=function(e,t){this.suppressEventEmits||this.viewListeners.forEach((function(n){return n.itemDeleted(e,t)}))},t.documentLoaded=function(e){this.suppressEventEmits||this.viewListeners.forEach((function(t){return t.documentLoaded(e)}))},t.itemAction=function(e,t,n){this.suppressEventEmits||this.viewListeners.forEach((function(i){return i.itemAction(e,t,n)}))},t.canDeleteItem=function(e,t){var n=!0;return this.suppressEventEmits||this.viewListeners.forEach((function(i){i.canDeleteItem(e,t)||(n=!1)})),n},t.hideRequested=function(e){this.suppressEventEmits||this.viewListeners.forEach((function(t){return t.hideRequested(e)}))},t.showRequested=function(e){this.suppressEventEmits||this.viewListeners.forEach((function(t){return t.showRequested(e)}))},t.itemDropped=function(e,t){this.suppressEventEmits||this.viewListeners.forEach((function(n){return n.itemDropped(e,t)}))},e}(),m=u()("abstract-view-ts"),h=u()("abstract-view-ts-detail"),g=function(){function e(e){this.containerEl=null,this.uiConfig=e,this.viewEl=null,this.eventForwarder=new f,this.handleDrop=this.handleDrop.bind(this)}var t=e.prototype;return t.getItemId=function(e,t){throw new Error("Method not implemented.")},t.getItemDescription=function(e,t){throw new Error("Method not implemented.")},t.hasActionPermission=function(e,t,n){throw new Error("Not implemented")},t.getUIConfig=function(){return this.uiConfig},t.addEventListener=function(e){this.eventForwarder.addListener(e)},t.onDocumentLoaded=function(){this.viewEl=document.getElementById(this.uiConfig.resultsContainerId),this.eventForwarder.documentLoaded(this)},t.setContainedBy=function(e){this.containerEl=e},t.getName=function(){return this.uiConfig.dataSourceId},t.hasChanged=function(){return!1},t.getDataSourceKeyId=function(){return e.DATA_SOURCE},t.handleDrop=function(e){m("view "+this.getName()+": drop event"),h(e.target);var t=e.dataTransfer.getData(o),n=JSON.parse(t);h(n);var i=n.draggedType,a=n.draggedFrom;if(m("view "+this.getName()+": drop event from "+a+" with type "+i),this.uiConfig.drop){var r=this.uiConfig.drop.acceptTypes.findIndex((function(e){return e===i}))>=0,s=!0;r&&(this.uiConfig.drop.acceptFrom&&(s=this.uiConfig.drop.acceptFrom.findIndex((function(e){return e===a}))>=0),h("view "+this.getName()+": accepted type? "+r+" and from? "+s),r&&s&&this.eventForwarder.itemDropped(this,n))}},e}();function p(e,t){return e._id===t._id}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}g.DATA_SOURCE="data-source";var b,y,I=function(e){var t,n;function i(){var t;return(t=e.call(this)||this).collectionViewListeners=[],t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n);var a=i.prototype;return a.addListener=function(t){e.prototype.addListener.call(this,t),this.collectionViewListeners.push(t)},a.itemDragStarted=function(e,t){this.suppressEventEmits||this.collectionViewListeners.forEach((function(n){return n.itemDragStarted(e,t)}))},a.itemSelected=function(e,t){this.suppressEventEmits||this.collectionViewListeners.forEach((function(n){return n.itemSelected(e,t)}))},a.itemDeselected=function(e,t){this.suppressEventEmits||this.collectionViewListeners.forEach((function(n){return n.itemDeselected(e,t)}))},a.canSelectItem=function(e,t){var n=!0;return this.suppressEventEmits||this.collectionViewListeners.forEach((function(i){i.canSelectItem(e,t)||(n=!1)})),n},i}(f);(y=b||(b={}))[y.cancelled=0]="cancelled",y[y.confirmed=1]="confirmed";var C="d-none",E="d-block",w=u()("alert"),F=function(){function e(){this.alertDiv=document.getElementById("alert"),this.alertTitle=document.getElementById("alert-title"),this.alertContent=document.getElementById("alert-content"),this.cancelButton=document.getElementById("alert-cancel"),this.confirmButton=document.getElementById("alert-confirm")}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.startAlert=function(e,t,n,i){var a=this;this.alertTitle.innerHTML=t,this.alertContent.innerHTML=n,this.alertDiv.classList.remove(C),this.alertDiv.classList.add(E),this.confirmButton.addEventListener("click",(function t(n){w("Handling confirm event from alert"),e.completed({outcome:b.confirmed,context:i}),a.alertDiv.classList.add(C),a.alertDiv.classList.remove(E),n.target.removeEventListener("click",t)})),this.cancelButton.addEventListener("click",(function t(n){w("Handling cancel event from alert"),e.completed({outcome:b.cancelled,context:i}),a.alertDiv.classList.add(C),a.alertDiv.classList.remove(E),n.target.removeEventListener("click",t)}))},e}(),N=u()("collection-view-event-handler-delegate"),T=function(){function e(e,t){this.selectedItem=null,this.view=e,this.eventForwarder=t,this.eventStartDrag=this.eventStartDrag.bind(this),this.eventActionClicked=this.eventActionClicked.bind(this),this.eventClickItem=this.eventClickItem.bind(this),this.eventDeleteClickItem=this.eventDeleteClickItem.bind(this)}var t=e.prototype;return t.getDragData=function(e){var t=this.getItemContext(e),n=t.itemId,i=t.dataSource;this.view.getCollectionUIConfig().keyType===a.number&&(n=parseInt(n)),N("view "+this.view.getName()+": Item with id "+n+" getting drag data from "+i);var r={};r[this.view.getCollectionUIConfig().keyId]=n;var s,o,d={};return(d=this.view.getItemInNamedCollection(this.view.getCollectionName(),r))&&(d.draggedType=null==(s=this.view.getCollectionUIConfig().detail.drag)?void 0:s.type,d.draggedFrom=null==(o=this.view.getCollectionUIConfig().detail.drag)?void 0:o.from),d},t.eventStartDrag=function(e){N("view "+this.view.getName()+": drag start"),N(e.target);var t=JSON.stringify(this.getDragData(e));N(t),e.dataTransfer.setData(o,t),this.eventForwarder.itemDragStarted(this.view,t)},t.eventClickItem=function(e){e.preventDefault(),e.stopPropagation();var t=this.getItemContext(e),n=t.itemId,i=t.dataSource;this.view.getCollectionUIConfig().keyType===a.number&&(n=parseInt(n)),N("view "+this.view.getName()+": Item with id "+n+" clicked from "+i);var r={};r[this.view.getCollectionUIConfig().keyId]=n,N(r);var s=this.view.getItemInNamedCollection(this.view.getCollectionName(),r);if(N(s),s){var o=this.eventForwarder.canSelectItem(this.view,s);N("view "+this.view.getName()+": Item with id "+n+" attempting selected from "+i+" - "+o),o&&(this.selectedItem=s,N(s),this.eventForwarder.itemSelected(this.view,s))}},t.eventDeleteClickItem=function(e){e.preventDefault(),e.stopPropagation();var t=this.getItemContext(e),n=t.itemId,i=t.dataSource;this.view.getCollectionUIConfig().keyType===a.number&&(n=parseInt(n)),N("view "+this.view.getName()+": Item with id "+n+" attempting delete from "+i);var r={};r[this.view.getCollectionUIConfig().keyId]=n,N(r);var s=this.view.getItemInNamedCollection(this.view.getCollectionName(),r);if(s){var o=this.eventForwarder.canDeleteItem(this.view,s);N("view "+this.view.getName()+": Item with id "+n+" attempting delete from "+i+" - "+o),o&&(this.view.getCollectionUIConfig().detail.quickDelete?(this.selectedItem=null,this.eventForwarder.itemDeleted(this.view,s)):F.getInstance().startAlert(this,this.view.getName(),"Are you sure you want to delete this information?",s))}},t.eventActionClicked=function(e){e.preventDefault(),e.stopPropagation();var t=this.getItemContext(e),n=t.itemId,i=t.dataSource,r=e.target.getAttribute(d);this.view.getCollectionUIConfig().keyType===a.number&&(n=parseInt(n)),N("view "+this.view.getName()+": Item with id "+n+" attempting delete from "+i);var s={};s[this.view.getCollectionUIConfig().keyId]=n,N(s);var o=this.view.getItemInNamedCollection(this.view.getCollectionName(),s);if(o){var l=this.eventForwarder.canSelectItem(this.view,o);N("view "+this.view.getName()+": Item with id "+n+" attempting action "+r+" from "+i+" - "+l),l&&(this.selectedItem=o,N(o),this.eventForwarder.itemAction(this.view,r,o))}},t.completed=function(e){N(e.context),e.outcome===b.confirmed&&(this.selectedItem=null,this.eventForwarder.itemDeleted(this.view,e.context))},t.getItemContext=function(e){return{itemId:e.target.getAttribute(this.view.getCollectionUIConfig().keyId),dataSource:e.target.getAttribute(g.DATA_SOURCE)}},e}();function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}u()("collection-view-ts");var O,A=u()("collection-view-ts-detail"),k=function(e){var t,n;function a(t,n){var i;(i=e.call(this,t.viewConfig)||this).collectionUIConfig=t,i.collectionName=n,i.renderer=null;var a=new I;return i.eventForwarder=a,i.eventHandlerDelegate=new T(D(i),a),i.updateViewForNamedCollection=i.updateViewForNamedCollection.bind(D(i)),i.eventStartDrag=i.eventStartDrag.bind(D(i)),i.eventActionClicked=i.eventActionClicked.bind(D(i)),i.eventClickItem=i.eventClickItem.bind(D(i)),i.eventDeleteClickItem=i.eventDeleteClickItem.bind(D(i)),i}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,S(t,n);var r=a.prototype;return r.eventStartDrag=function(e){this.eventHandlerDelegate.eventStartDrag(e)},r.eventClickItem=function(e){this.eventHandlerDelegate.eventClickItem(e)},r.eventDeleteClickItem=function(e){this.eventHandlerDelegate.eventDeleteClickItem(e)},r.eventActionClicked=function(e){this.eventHandlerDelegate.eventActionClicked(e)},r.getCollectionName=function(){return this.collectionName},r.getItemId=function(e,t){return this.getIdForItemInNamedCollection(e,t)},r.getCollectionUIConfig=function(){return this.collectionUIConfig},r.addEventCollectionListener=function(e){this.eventForwarder.addListener(e)},r.setContainedBy=function(t){e.prototype.setContainedBy.call(this,t),this.uiConfig.drop&&(A("view "+this.getName()+": Adding dragover events to "+this.uiConfig.dataSourceId),A(t),t.addEventListener("dragover",(function(e){e.preventDefault()})),t.addEventListener("drop",this.handleDrop))},r.onDocumentLoaded=function(){e.prototype.onDocumentLoaded.call(this),this.renderer&&this.renderer.onDocumentLoaded()},r.renderBackgroundForItemInNamedCollection=function(e,t,n){},r.compareItemsForEquality=function(e,t){return function(e,t){return e.id===t.id}(e,t)},r.getModifierForItemInNamedCollection=function(e,t){return i.normal},r.getSecondaryModifierForItemInNamedCollection=function(e,t){return i.normal},r.getBadgeValueForItemInNamedCollection=function(e,t){return 0},r.getBackgroundImageForItemInNamedCollection=function(e,t){return""},r.updateViewForNamedCollection=function(e,t){this.viewEl&&this.renderer&&this.renderer.setDisplayElementsForCollectionInContainer(this.viewEl,e,t)},r.hasPermissionToDeleteItemInNamedCollection=function(e,t){return!0},r.hasPermissionToUpdateItemInNamedCollection=function(e,t){return!0},r.hasPermissionToActionItemInNamedCollection=function(e,t,n){return!0},r.setRenderer=function(e){this.renderer=e},a}(g),R=u()("context-helper");!function(e){e[e.top=0]="top",e[e.bottom=1]="bottom",e[e.right=2]="right",e[e.left=3]="left"}(O||(O={}));var L,_=function(e,t){return""},j=function(){function e(){this.registry=[],this.menuDivEl=null,this.menuContentEl=null,this.handleContextMenu=this.handleContextMenu.bind(this),this.hideContextMenu=this.hideContextMenu.bind(this)}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.onDocumentLoaded=function(){document.addEventListener("click",this.hideContextMenu),this.menuDivEl=document.getElementById("contextmenu"),this.menuContentEl=document.getElementById("contextMenuItems")},t.addContextFromView=function(e,t,n){var i=this.ensureInRegistry(e.getName());return i.view=e,i.defaultType.internalType=t,i.defaultType.displayName=n,i.defaultType.identifier=e.getItemId,i.defaultType.description=e.getItemDescription,i},t.addContextToElement=function(t,n,i,a,r,s){void 0===r&&(r=!1),void 0===s&&(s=O.bottom);var o=this.ensureInRegistry(t);if(a.setAttribute(e.SOURCE,o.source),a.setAttribute(e.TYPE,o.defaultType.internalType),a.setAttribute(e.DISPLAYNAME,o.defaultType.displayName),a.setAttribute(e.IDENTIFIER,o.defaultType.identifier(n,i)),a.setAttribute(e.DESCRIPTION,o.defaultType.description(n,i)),r){switch(a.setAttribute(e.BOOTSTRAP_TOGGLE,e.BOOTSTRAP_TOOLTIP_VALUE),a.setAttribute(e.BOOTSTRAP_TOGGLE_HTML,e.BOOTSTRAP_TOGGLE_HTML_VALUE),s){case O.bottom:a.setAttribute(e.BOOTSTRAP_PLACEMENT,e.BOOTSTRAP_PLACEMENT_BOTTOM);break;case O.top:a.setAttribute(e.BOOTSTRAP_PLACEMENT,e.BOOTSTRAP_PLACEMENT_TOP);break;case O.left:a.setAttribute(e.BOOTSTRAP_PLACEMENT,e.BOOTSTRAP_PLACEMENT_LEFT);break;case O.right:a.setAttribute(e.BOOTSTRAP_PLACEMENT,e.BOOTSTRAP_PLACEMENT_RIGHT)}$('[data-toggle="tooltip"]').tooltip({html:!0})}},t.findContextFromEvent=function(e){var t=null;return e.target&&(e.target,t=this.findContextFromElement(e.target)),t},t.addActionToContext=function(e,t,n,i,a,r){var s={actionName:t,displayName:n,handler:i,hasPermission:r,elementDefinition:{elementType:"a",elementAttributes:[{name:"href",value:"#"}],elementClasses:"list-group-item list-group-item-action bg-dark text-white"},iconClasses:a};this.addContextActionToContext(e,s)},t.handleContextMenu=function(e){R("Right click"),R(e.target);var t=this.findContextFromElement(e.target);return R(t),!t||!this.buildContextMenu(t)||(e.preventDefault(),e.stopPropagation(),this.showContextMenu(e),!1)},t.ensureInRegistry=function(e){var t,n=this.registry.findIndex((function(t){return t.source===e}));return n<0?(t={source:e,defaultType:{internalType:"",displayName:"",identifier:_,description:_,actions:[]}},this.registry.push(t)):t=this.registry[n],t},t.findContextFromElement=function(t){var n=null,i=t.getAttribute(e.SOURCE);if(i)n={source:i,internalType:t.getAttribute(e.TYPE),displayName:t.getAttribute(e.DISPLAYNAME),identifier:t.getAttribute(e.IDENTIFIER),description:t.getAttribute(e.DESCRIPTION)};else{var a=t.parentElement;a&&(n=this.findContextFromElement(a))}return n},t.findAllContextsFromElement=function(t,n){var i=t.getAttribute(e.SOURCE);if(i){var a=t.getAttribute(e.TYPE),r=t.getAttribute(e.DISPLAYNAME),s=t.getAttribute(e.IDENTIFIER),o=t.getAttribute(e.DESCRIPTION);if(a&&r&&s&&o){var d={source:i,internalType:a,displayName:r,identifier:s,description:o};n.push(d)}}var l=t.parentElement;l&&this.findAllContextsFromElement(l,n)},t.addContextActionToContext=function(e,t){R("Adding action to context "+e.source),R(t),e.defaultType.actions.push(t)},t.buildContextMenu=function(t){var n=this;R("building context menu");var i=!1,a=this.ensureInRegistry(t.source),r=null;if(a&&a.view&&a.view instanceof k){R("collection view context - finding item with identifier "+t.identifier);var s=a.view,o={};o[s.getCollectionUIConfig().keyId]=t.identifier,r=s.getItemInNamedCollection(t.internalType,o)}return R("found item for context menu"),R(r),a.defaultType.actions.length>0?this.menuContentEl&&this.menuContentEl&&(l.removeAllChildren(this.menuContentEl),a.defaultType.actions.forEach((function(s){if(R("Adding action"),R(s),r&&s.hasPermission&&s.hasPermission(s.actionName,a.defaultType.internalType,r)||!s.hasPermission){var o=document.createElement(s.elementDefinition.elementType);o&&n.menuContentEl&&(l.addAttributes(o,s.elementDefinition.elementAttributes),l.addRemoveClasses(o,s.elementDefinition.elementClasses),o.setAttribute(e.SOURCE,t.source),o.setAttribute(e.TYPE,t.internalType),o.setAttribute(e.DISPLAYNAME,t.displayName),o.setAttribute(e.IDENTIFIER,t.identifier),o.setAttribute(e.DESCRIPTION,t.description),o.setAttribute(d,s.actionName),o.addEventListener("click",(function(e){n.hideContextMenu(e),s.handler(e)})),o.innerHTML=""+s.displayName,s.iconClasses&&(o.innerHTML+='&nbsp;&nbsp;<i class="'+s.iconClasses+'"></i>'),n.menuContentEl.appendChild(o),R("new menu element is "),R(n.menuContentEl),i=!0)}}))):R("building context menu - no actions for "+t.source),i},t.hideContextMenu=function(e){this.menuDivEl&&l.addRemoveClasses(this.menuDivEl,"d-none")},t.showContextMenu=function(e){this.menuDivEl&&(R("Showing context menu at "+e.pageX+","+e.pageY),l.addRemoveClasses(this.menuDivEl,"d-none",!1),this.menuDivEl.style.left=e.pageX+"px",this.menuDivEl.style.top=e.pageY+"px")},e}();j.SOURCE="context-source",j.TYPE="context-type",j.DISPLAYNAME="context-display-name",j.IDENTIFIER="context-id",j.DESCRIPTION="title",j.BOOTSTRAP_TOGGLE="data-toggle",j.BOOTSTRAP_PLACEMENT="data-placement",j.BOOTSTRAP_TOOLTIP_VALUE="tooltip",j.BOOTSTRAP_POPOVER_VALUE="popover",j.BOOTSTRAP_TOGGLE_HTML="data-html",j.BOOTSTRAP_TOGGLE_HTML_VALUE="true",j.BOOTSTRAP_PLACEMENT_TOP="top",j.BOOTSTRAP_PLACEMENT_BOTTOM="bottom",j.BOOTSTRAP_PLACEMENT_RIGHT="right",j.BOOTSTRAP_PLACEMENT_LEFT="left",function(e){e[e.ItemAdded=0]="ItemAdded",e[e.ItemUpdated=1]="ItemUpdated",e[e.ItemDeleted=2]="ItemDeleted",e[e.StateChanged=3]="StateChanged"}(L||(L={}));var x=u()("state-manager-delegate");const M=function(){function e(e){this.suppressEventEmits=!1,this.managerName=e,this.stateChangeListeners=[]}var t=e.prototype;return t.suppressEvents=function(){this.suppressEventEmits=!0},t.emitEvents=function(){this.suppressEventEmits=!1},t.informChangeListenersForStateWithName=function(e,t,n,i){var a=this;if(void 0===n&&(n=L.StateChanged),void 0===i&&(i=null),x("State Manager: Informing state listeners of "+e),this.suppressEventEmits)x("State Manager: Events suppressed");else{var r=this.stateChangeListeners.findIndex((function(t){return t.name===e}));r>=0&&(x("State Manager: Found state listeners of "+e+" with event type "+n),this.stateChangeListeners[r].listeners.forEach((function(r){x("State Manager: Found state listener of "+e+" with name "+r.getListenerName()+" - informing");try{switch(n){case L.StateChanged:r.stateChanged(a.managerName,e,t);break;case L.ItemAdded:r.stateChangedItemAdded(a.managerName,e,t);break;case L.ItemUpdated:r.stateChangedItemUpdated(a.managerName,e,i,t);break;case L.ItemDeleted:r.stateChangedItemRemoved(a.managerName,e,t)}}catch(e){console.log(e)}})))}},t.addChangeListenerForName=function(e,t){this.ensureListenerSetupForName(e),x("State Manager: Adding state listener for "+e+" with name "+t.getListenerName());var n=this.stateChangeListeners.findIndex((function(t){return t.name===e}));n>=0&&(x("State Manager: Adding state listener for "+e+" with name "+t.getListenerName()+" with index "+n),this.stateChangeListeners[n].listeners.push(t))},t.ensureListenerSetupForName=function(e){if(this.stateChangeListeners.findIndex((function(t){return t.name===e}))<0){var t={name:e,listeners:[]};this.stateChangeListeners.push(t)}},e}();var B=u()("state-manager-ts"),V=function(){function e(e){this.forceSaves=!0,this.managerName="",this.delegate=new M(e),this.managerName=e,this.emitEvents(),this.forceSaves=!0}var t=e.prototype;return t.suppressEvents=function(){this.delegate.suppressEvents()},t.emitEvents=function(){this.delegate.emitEvents()},t.dontForceSavesOnAddRemoveUpdate=function(){this.forceSaves=!1},t.forceSavesOnAddRemoveUpdate=function(){this.forceSaves=!0},t.informChangeListenersForStateWithName=function(e,t,n,i){void 0===n&&(n=L.StateChanged),void 0===i&&(i=null),this.delegate.informChangeListenersForStateWithName(e,t,n,i)},t.addChangeListenerForName=function(e,t){this.delegate.addChangeListenerForName(e,t)},t.addStateByName=function(e,t){this._ensureStatePresent(e);var n={name:e,value:t};return this._replaceNamedStateInStorage(n),this.informChangeListenersForStateWithName(e,t,L.StateChanged),t},t.getStateByName=function(e){var t;return this._ensureStatePresent(e),B("State Manager: Getting state for "+e),t=this._getState(e).value,B("State Manager: Found previous state for "+e),B(t),t},t.setStateByName=function(e,t,n){return void 0===n&&(n=!0),this._ensureStatePresent(e),B("State Manager: Setting state for "+e),B(t),this._getState(e).value=t,this.forceSaves&&this._saveState(e,t),n&&this.informChangeListenersForStateWithName(e,t),t},t.addNewItemToState=function(e,t,n){void 0===n&&(n=!1),this._ensureStatePresent(e),B("State Manager: Adding item to state "+e),this._addItemToState(e,t,n),this.informChangeListenersForStateWithName(e,t,L.ItemAdded)},t.findItemInState=function(e,t,n){this._ensureStatePresent(e);var i={},a=this.getStateByName(e),r=a.findIndex((function(e){return n(e,t)}));return B("Finding item in state "+e+" - found index "+r),B(t),r>=0&&(i=a[r]),i},t.isItemInState=function(e,t,n){this._ensureStatePresent(e);var i=!1;return this.getStateByName(e).findIndex((function(e){return n(e,t)}))>=0&&(i=!0),i},t.removeItemFromState=function(e,t,n,i){this._ensureStatePresent(e);var a=this.findItemInState(e,t,n);return B("State Manager: Found item - removing, is persisted "+i),this._removeItemFromState(e,t,n,i),this.informChangeListenersForStateWithName(e,a,L.ItemDeleted),!0},t.updateItemInState=function(e,t,n,i){this._ensureStatePresent(e);var a=this.findItemInState(e,t,n);return B("State Manager: Found item - replacing "),this._updateItemInState(e,t,n,i),this.informChangeListenersForStateWithName(e,t,L.ItemUpdated,a),!0},e}();function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U=u()("state-manager-ms");const q=function(e){var t,n;function i(){var t;return(t=e.call(this,"memory")||this).applicationState=[],t.forceSaves=!0,t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,P(t,n),i.getInstance=function(){return i._instance||(i._instance=new i),i._instance};var a=i.prototype;return a._ensureStatePresent=function(e){if(this.applicationState.findIndex((function(t){return t.name===e}))<0){var t={name:e,value:[]};this.applicationState.push(t)}},a._addNewNamedStateToStorage=function(e){U("Adding new complete state "+name),U(e.value),this.applicationState.push(e)},a._replaceNamedStateInStorage=function(e){var t=this.applicationState.findIndex((function(t){return t.name===e.name}));t>=0&&(U("replacing complete state "+name),U(e.value),this.applicationState.splice(t,1,e))},a._getState=function(e){var t=this.applicationState.find((function(t){return t.name===e}));return U("getting complete state "+e),U(t.value),t},a._saveState=function(e,t){var n=this.applicationState.findIndex((function(t){return t.name===e}));if(n>=0){var i=this.applicationState[n];U("SAVING complete state "+e),U(i.value),i.value=t}},a._addItemToState=function(e,t,n){if(void 0===n&&(n=!1),n){var i=this.applicationState.findIndex((function(t){return t.name===e}));if(i>=0){var a=this.applicationState[i];U("adding item to state "+e),U(t),a.value.push(t)}}},a._removeItemFromState=function(e,t,n,i){var a=this.applicationState.findIndex((function(t){return t.name===e}));if(a>=0){var r=this.applicationState[a],s=r.value.findIndex((function(e){return n(e,t)}));s>=0&&(U("removing item from state "+e),U(t),r.value.splice(s,1))}},a._updateItemInState=function(e,t,n,i){var a=this.applicationState.findIndex((function(t){return t.name===e}));if(a>=0){var r=this.applicationState[a],s=r.value.findIndex((function(e){return n(e,t)}));s>=0&&(r.value.splice(s,1,t),U("updating item in state "+e),U(t))}else this._addItemToState(e,t,!0)},i}(V);function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=u()("state-manager-async"),W=function(e){var t,n;function i(t,n){var i;(i=e.call(this,"async")||this).topLevelSM=t,i.wrappedSM=n,i.forceSaves=!1,i.wrappedSM.emitEvents();var a=i.wrappedSM.getConfiguredStateNames();return i.stateChanged=i.stateChanged.bind(H(i)),i.stateChangedItemAdded=i.stateChangedItemAdded.bind(H(i)),i.stateChangedItemRemoved=i.stateChangedItemRemoved.bind(H(i)),i.stateChangedItemUpdated=i.stateChangedItemUpdated.bind(H(i)),a.forEach((function(e){i.wrappedSM.addChangeListenerForName(e,H(i))})),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,G(t,n);var a=i.prototype;return a._addItemToState=function(e,t,n){void 0===n&&(n=!1),Y("adding item to state "+e+" - is persisted "+n),this.wrappedSM.addNewItemToState(e,t,n)},a._getState=function(e){return Y("getting state "+e),this.wrappedSM.getStateByName(e),{name:e,value:[]}},a._removeItemFromState=function(e,t,n,i){Y("removing item from state "+e+" is persisted "+i),this.wrappedSM.removeItemFromState(e,t,n,i)},a._updateItemInState=function(e,t,n,i){Y("updating item in state "+e),this.wrappedSM.updateItemInState(e,t,n,i)},a._ensureStatePresent=function(e){},a._addNewNamedStateToStorage=function(e){},a._replaceNamedStateInStorage=function(e){},a._saveState=function(e,t){},a.stateChangedItemRemoved=function(e,t,n){},a.stateChangedItemUpdated=function(e,t,n,i){},a.stateChanged=function(e,t,n){Y("Wrapped SM has supplied new state "+t+" passing to top level SM"),Y(n),this.topLevelSM.setStateByName(t,n)},a.stateChangedItemAdded=function(e,t,n){Y("Wrapped SM has supplied new completed item for state "+t+" passing to top level SM"),this.topLevelSM.addNewItemToState(t,n,!0)},a.getListenerName=function(){return"Async Manager"},i}(V);function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K,J,z=u()("state-manager-aggregate"),X=function(e){var t,n;function i(){var t;return(t=e.call(this,"aggregate")||this).stateManagers=[],t.emitEvents(),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Q(t,n),i.getInstance=function(){return i._instance||(i._instance=new i),i._instance};var a=i.prototype;return a.addStateManager=function(e,t,n){void 0===t&&(t=[]);var i={manager:e,filters:t};this.stateManagers.push(i),n||e.suppressEvents(),z("adding state manager with/without filters")},a._addNewNamedStateToStorage=function(e){var t=this;this.stateManagers.forEach((function(n){t.stateNameInFilters(e.name,n.filters)||n.manager._addNewNamedStateToStorage(e)}))},a._getState=function(e){var t=this,n={name:e,value:[]};return this.stateManagers.forEach((function(i){t.stateNameInFilters(n.name,i.filters)||(z("get state from state manager for state "+e),z(i.manager),i.manager._getState(e))})),this.stateManagers.length>0&&(n=this.stateManagers[0].manager._getState(e)),n},a._ensureStatePresent=function(e){var t=this;this.stateManagers.forEach((function(n){t.stateNameInFilters(e,n.filters)||n.manager._ensureStatePresent(e)}))},a._replaceNamedStateInStorage=function(e){var t=this;this.stateManagers.forEach((function(n){t.stateNameInFilters(e.name,n.filters)||n.manager._replaceNamedStateInStorage(e)}))},a._saveState=function(e,t){var n=this;this.stateManagers.forEach((function(i){n.stateNameInFilters(e,i.filters)||(z("saving state in state manager for state "+e),z(i.manager),z(t),i.manager._saveState(e,t))}))},a._addItemToState=function(e,t,n){var i=this;void 0===n&&(n=!1),this.stateManagers.forEach((function(a){i.stateNameInFilters(e,a.filters)||(z("adding item to state in  state manager for state "+e+", is persisted = "+n),z(a.manager),z(t),a.manager._addItemToState(e,t,n))}))},a._removeItemFromState=function(e,t,n,i){var a=this;this.stateManagers.forEach((function(r){a.stateNameInFilters(e,r.filters)||(z("removing item from state in state manager for state "+e+", is persisted = "+i),z(r.manager),z(t),r.manager._removeItemFromState(e,t,n,i))}))},a._updateItemInState=function(e,t,n,i){var a=this;this.stateManagers.forEach((function(r){a.stateNameInFilters(e,r.filters)||(z("updating item in state in  state manager for state "+e),z(r.manager),z(t),r.manager._updateItemInState(e,t,n,i))}))},a.stateNameInFilters=function(e,t){return t.findIndex((function(t){return t===e}))>=0},i}(V),Z="transaction",ee="transactions",te="budgetChart",ne="transactionDetail",ie="transactionDetailsContainer";function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function re(e,t,n,i,a,r,s){try{var o=e[r](s),d=o.value}catch(e){return void n(e)}o.done?t(d):Promise.resolve(d).then(i,a)}!function(e){e[e.POST=0]="POST",e[e.GET=1]="GET",e[e.PUT=2]="PUT",e[e.DELETE=3]="DELETE"}(K||(K={})),function(e){e[e.PRIORITY=0]="PRIORITY",e[e.BACKGROUND=1]="BACKGROUND"}(J||(J={}));var se=u()("api-ts");const oe=new(function(){function e(){}var t=e.prototype;return t.postFetchJSON=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})},e.next=3,fetch(t,i);case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){re(r,i,a,s,o,"next",e)}function o(e){re(r,i,a,s,o,"throw",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),t.apiFetchJSONWithPost=function(e){se("Executing fetch with URL "+e.originalRequest.url+" with body "+e.originalRequest.params);try{JSON.stringify(e.originalRequest.params)}catch(t){se("Unable to convert parameters to JSON"),se(e.originalRequest.params,100),e.callback(null,404,e.queueType,e.requestId)}var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae({},e.originalRequest.params))};this.fetchJSON(e.originalRequest.url,t,e.callback,e.queueType,e.requestId)},t.apiFetchJSONWithGet=function(e){se("Executing GET fetch with URL "+e.originalRequest.url+" with id "+e.originalRequest.params.id),e.originalRequest.params.id&&!e.wasOffline&&(e.originalRequest.url+="/"+e.originalRequest.params.id),this.fetchJSON(e.originalRequest.url,{method:"GET",headers:{"Content-Type":"application/json"}},e.callback,e.queueType,e.requestId)},t.apiFetchJSONWithDelete=function(e){se("Executing DELETE fetch with URL "+e.originalRequest.url+" with id "+e.originalRequest.params.id),e.originalRequest.params.id&&!e.wasOffline&&(e.originalRequest.url+="/"+e.originalRequest.params.id),this.fetchJSON(e.originalRequest.url,{method:"DELETE",headers:{"Content-Type":"application/json"}},e.callback,e.queueType,e.requestId)},t.apiFetchJSONWithPut=function(e){se("Executing PUT fetch with URL "+e.originalRequest.url+" with id "+e.originalRequest.params.id);var t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae({},e.originalRequest.params))};e.originalRequest.params.id&&!e.wasOffline&&(e.originalRequest.url+="/"+e.originalRequest.params.id),this.fetchJSON(e.originalRequest.url,t,e.callback,e.queueType,e.requestId)},t.fetchJSON=function(e,t,n,i,a){fetch(e,t).then((function(e){if(se("Response code was "+e.status),e.status>=200&&e.status<=299)return e.json();400===e.status&&se(e.json())})).then((function(e){se(e),n(e,200,i,a)})).catch((function(e){se(e),n(null,500,i,a)}))},e}());var de=n(4586),le=u()("callback-registry"),ce=function(){function e(){this.callbacks=[]}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.addRegisterCallback=function(e,t){le("Adding callback function with id "+e),this.callbacks.push({id:e,fn:t})},t.getCallbackById=function(e){var t=this.callbacks.findIndex((function(t){return t.id===e}));return t>=0?this.callbacks[t].fn:function(e,t,n){console.error("Callback received with status "+t+", state name "+n+" where the callback was never registered")}},e}(),ue=u()("poller"),fe=function(){function e(){this.interval=null,this.isPollingBool=!1}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.startPolling=function(t,n){var i=this;void 0===n&&(n=e.INTERVAL_DEFAULT),this.isPollingBool=!0,this.interval=setInterval((function(){ue("Checking for server availability"),fetch(e.URL_CALL,{method:"GET"}).then((function(e){ue("Response code was "+e.status+" - server is now available"),i.stopPolling(),t()})).catch((function(e){ue(e)}))}),n)},t.isPolling=function(){return this.isPollingBool},t.stopPolling=function(){this.interval&&clearInterval(this.interval),this.interval=null,this.isPollingBool=!1},e}();fe.INTERVAL_DEFAULT=1e4,fe.URL_CALL="/ping";var me=n(3029);function he(e,t,n,i,a,r,s){try{var o=e[r](s),d=o.value}catch(e){return void n(e)}o.done?t(d):Promise.resolve(d).then(i,a)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){he(r,i,a,s,o,"next",e)}function o(e){he(r,i,a,s,o,"throw",e)}s(void 0)}))}}var pe=u()("indexeddb-ts");const ve=function(){function e(){this.dbName="default",this.delegate=new M("indexeddb"),this.emitEvents(),this.bHasCompletedRun=[],this.collections=[],this.callbackForAddItem=this.callbackForAddItem.bind(this),this.callbackForRemoveItem=this.callbackForRemoveItem.bind(this),this.callbackForUpdateItem=this.callbackForUpdateItem.bind(this),this.callbackForGetItems=this.callbackForGetItems.bind(this)}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance};var t=e.prototype;return t.hasCompletedRun=function(e){var t=!1,n=this.collections.findIndex((function(t){return t.name===e}));return n>=0&&(t=this.bHasCompletedRun[n]),t},t.setCompletedRun=function(e){var t=this.collections.findIndex((function(t){return t.name===e}));t>=0&&(this.bHasCompletedRun[t]=!0)},t.forceResetForGet=function(e){var t=this.collections.findIndex((function(t){return t.name===e}));t>=0&&(this.bHasCompletedRun[t]=!1)},t.initialise=function(){var e=ge(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pe("opening database for "+t+" with collections"),pe(n),this.dbName=t,this.collections=n,i=[],this.collections.forEach((function(e){i.push(!1)})),this.bHasCompletedRun=i,e.next=9,(0,me.X3)(t,1,{upgrade:function(e,t,i,a){n.forEach((function(t){pe("creating collection for "+t.name+" with key "+t.keyField),e.createObjectStore(t.name,{keyPath:t.keyField,autoIncrement:!1})}))},blocked:function(){},blocking:function(){},terminated:function(){}});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t._addNewNamedStateToStorage=function(e){},t._getState=function(e){return this.hasCompletedRun(e)?pe("Getting All "+e+" - not done - previously retrieved"):(pe("getting state "+e),this.getWithCollectionKey(e,this.getKeyFieldForKey(e))),{name:e,value:[]}},t._ensureStatePresent=function(e){},t._replaceNamedStateInStorage=function(e){var t=this;!function(){var n=ge(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return pe("replacing item in storage "+e.name),pe(e.value),n.next=4,t.removeAllItemsFromCollectionKey(e.name,t.getKeyFieldForKey(e.name));case 4:return n.next=6,t.saveWithCollectionKey(e.name,e.value,t.getKeyFieldForKey(e.name));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()},t._addItemToState=function(e,t,n){void 0===n&&(n=!1),n||this.addNewItemToCollection(e,t,this.getKeyFieldForKey(e))},t._removeItemFromState=function(e,t,n,i){i||this.removeItemFromCollection(e,t,this.getKeyFieldForKey(e))},t._updateItemInState=function(e,t,n,i){i||this.updateItemInCollection(e,t,this.getKeyFieldForKey(e))},t._saveState=function(e,t){var n=this;!function(){var i=ge(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return pe("saving state "+e),i.next=3,n.removeAllItemsFromCollectionKey(e,n.getKeyFieldForKey(e));case 3:return i.next=5,n.saveWithCollectionKey(e,t,n.getKeyFieldForKey(e));case 5:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}()()},t.saveWithCollectionKey=function(){var e=ge(regeneratorRuntime.mark((function e(t,n,i){var a,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===i&&(i="id"),pe("Saving array with key "+t),pe(n),e.next=5,(0,me.X3)(this.dbName,1);case 5:return a=e.sent,(r=a.transaction([t],"readwrite")).oncomplete=function(e){pe("Success"),pe(e)},r.onerror=function(e){pe("Error"),pe(e)},s=r.store,e.next=12,this.saveItemsToCollection(s,n,i);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.addNewItemToCollection=function(){var e=ge(regeneratorRuntime.mark((function e(t,n,i){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i="id"),null===n){e.next=11;break}return pe("Adding with key "+t),pe(n),e.next=6,(0,me.X3)(this.dbName,1);case 6:a=e.sent,(r=a.transaction([t],"readwrite").objectStore(t).add(n)).oncomplete=function(e){pe("Success"),pe(e)},r.onerror=function(e){pe("Error"),pe(e)},this.callbackForAddItem(n,t);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.removeItemFromCollection=function(){var e=ge(regeneratorRuntime.mark((function e(t,n,i){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i="id"),null===n){e.next=13;break}return pe("Removing with key "+t+" item "+n[i]),pe(n),e.next=6,(0,me.X3)(this.dbName,1);case 6:return a=e.sent,(r=a.transaction([t],"readwrite").objectStore(t).delete(n[i])).oncomplete=function(e){pe("Success"),pe(e)},r.onerror=function(e){pe("Error"),pe(e)},e.next=12,r.done;case 12:this.callbackForRemoveItem(n,t);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.updateItemInCollection=function(){var e=ge(regeneratorRuntime.mark((function e(t,n,i){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i="id"),!n){e.next=13;break}return pe("Updating item in storage "+t),pe(n),e.next=6,(0,me.X3)(this.dbName,1);case 6:return a=e.sent,(r=a.transaction([t],"readwrite").objectStore(t).put(n)).oncomplete=function(e){pe("Success"),pe(e)},r.onerror=function(e){pe("Error"),pe(e)},e.next=12,r.done;case 12:this.callbackForUpdateItem(n,t);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.addChangeListenerForName=function(e,t){this.delegate.addChangeListenerForName(e,t)},t.addNewItemToState=function(e,t,n){this._addItemToState(e,t,n)},t.emitEvents=function(){this.delegate.emitEvents()},t.findItemInState=function(e,t,n){throw Error("not implemented")},t.getStateByName=function(e){this._getState(e)},t.informChangeListenersForStateWithName=function(e,t,n,i){this.delegate.informChangeListenersForStateWithName(e,t,n,i)},t.isItemInState=function(e,t,n){return!0},t.removeItemFromState=function(e,t,n,i){return pe("Removing item from state "+e+" is persisted "+i),pe(t),this._removeItemFromState(e,t,n,i),!0},t.setStateByName=function(e,t,n){this._replaceNamedStateInStorage({name:e,value:t}),n&&this.delegate.informChangeListenersForStateWithName(e,t,L.StateChanged,null)},t.suppressEvents=function(){this.delegate.suppressEvents()},t.updateItemInState=function(e,t,n,i){return this._updateItemInState(e,t,n,i),!0},t.getWithCollectionKey=function(){var e=ge(regeneratorRuntime.mark((function e(t,n){var i,a,r,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n="id"),i=[],pe("Loading with key "+t),e.next=5,(0,me.X3)(this.dbName,1);case 5:return a=e.sent,e.next=8,this.checkForObjectStore(a,t,n);case 8:return r=a.transaction([t]),s=r.store,e.next=12,s.openCursor();case 12:o=e.sent;case 13:if(!o){e.next=20;break}return i.push(o.value),e.next=17,o.continue();case 17:o=e.sent,e.next=13;break;case 20:pe(i),this.callbackForGetItems(i,t);case 22:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.getConfiguredStateNames=function(){var e=[];return this.collections.forEach((function(t){e.push(t.name)})),e},t.getKeyFieldForKey=function(e){var t="_id",n=this.collections.findIndex((function(t){return t.name===e}));return n>=0&&(t=this.collections[n].keyField),t},t.checkForObjectStore=function(){var e=ge(regeneratorRuntime.mark((function e(t,n,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe("Checking for collection "+n),t.objectStoreNames.contains(n)){e.next=5;break}return pe("Checking for collection "+n+" - NOT found, creating"),e.next=5,t.createObjectStore(n,{keyPath:i,autoIncrement:!1});case 5:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.saveItemsToCollection=function(){var e=ge(regeneratorRuntime.mark((function e(t,n,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===i&&(i="id"),pe("Saving items to collection"),n.forEach((function(e){t.add(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.removeAllItemsFromCollectionKey=function(){var e=ge(regeneratorRuntime.mark((function e(t,n){var i,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n="id"),pe("Clearing collection "+t),e.next=4,(0,me.X3)(this.dbName,1);case 4:return i=e.sent,e.next=7,this.checkForObjectStore(i,t,n);case 7:return a=i.transaction([t],"readwrite"),r=a.store,e.next=11,r.clear();case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.callbackForRemoveItem=function(){var e=ge(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe("callback for remove item for state "+n+"  - not forwarded"),pe(t);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.callbackForUpdateItem=function(){var e=ge(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe("callback for update item for state "+n+"  - not forwarded"),pe(t);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.callbackForGetItems=function(e,t){pe("callback for get items for state "+t+" - FORWARDING"),pe(e),this.setCompletedRun(t),this.delegate.informChangeListenersForStateWithName(t,e,L.StateChanged,null)},t.callbackForAddItem=function(){var e=ge(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe("callback for add item for state "+n+"  - FORWARDING"),pe(t),this.delegate.informChangeListenersForStateWithName(n,t,L.ItemAdded,null);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e}();function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){var t,n;function i(t){return e.call(this,t)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,be(t,n),i.prototype.show=function(e,t,n,i,a){var r=this;void 0===n&&(n=0),void 0===a&&(a=3e3);var s=this.notificationManager.getContainerId(),o="";switch(i){case Ce.info:o="bg-info";break;case Ce.warning:o="bg-warning";break;case Ce.message:o="bg-primary";break;case Ce.priority:o="bg-danger";break;default:o="bg-info"}var d=document.createElement("div");d.className="notification toast",d.style.top=n+"px",d.setAttribute("role","alert"),d.setAttribute("data-autohide","false");var l=document.createElement("div");l.className="toast-header text-white "+o;var c=document.createElement("strong");c.className="mr-auto",c.textContent=e;var u=document.createElement("button");u.className="ml-2 mb-1 close",u.textContent="x",u.addEventListener("click",(function(){r.notificationManager.remove(d)}));var f=document.createElement("div");f.className="toast-body",f.textContent=t,l.appendChild(c),l.appendChild(u),d.appendChild(l),d.appendChild(f),d.classList.add("is-"+i);var m=document.getElementById(s);return m&&m.appendChild(d),$(".notification").toast("show"),a<=0&&(a=2e3),setTimeout((function(){r.notificationManager.remove(d)}),a),d},i}((function(e){this.show=this.show.bind(this),this.notificationManager=e,this.containerId=this.notificationManager.getContainerId()}));const Ie=new(function(){function e(){}return e.prototype.createNotification=function(e){return new ye(e)},e}());var Ce;!function(e){e[e.info=0]="info",e[e.warning=1]="warning",e[e.message=2]="message",e[e.priority=3]="priority"}(Ce||(Ce={}));const Ee=function(){function e(){this.notifications=[],this.currentCount=0,this.offsetPerNotification=120,this.containerId="notifications",this.show=this.show.bind(this)}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.getContainerId=function(){return this.containerId},t.show=function(e,t,n,i){void 0===n&&(n=Ce.info),void 0===i&&(i=5e3);var a=Ie.createNotification(this).show(e,t,this.currentCount*this.offsetPerNotification,n,i);this.currentCount++,this.notifications.push(a)},t.remove=function(e){var t=this,n=this.notifications.findIndex((function(t){return t===e}));n>=0&&(this.notifications.splice(n,1),this.notifications.map((function(e,n){e.style.top=t.offsetPerNotification*n+"px"})));var i=e.parentElement;null!==i&&i.removeChild(e),this.currentCount--,this.currentCount<0&&(this.currentCount=0)},e}();var we=u()("offline-manager"),Fe=function(){function e(){this.serverBackOnline=this.serverBackOnline.bind(this);var t=new ve;t.initialise(e.DB_NAME,[{name:e.OBJECT_STORE,keyField:"_id"}]),this.persistence=t,this.persistence.addChangeListenerForName(e.OBJECT_STORE,this)}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.processQueuedResults=function(){this.persistence.getStateByName(e.OBJECT_STORE)},t.serverBackOnline=function(){Ee.getInstance().show("Server","Server is back online."),this.processQueuedResults()},t.areWeOffline=function(){return fe.getInstance().isPolling()},t.addOfflineRequest=function(t){fe.getInstance().isPolling()||(fe.getInstance().startPolling(this.serverBackOnline),Ee.getInstance().show("Server","Server is offline, queueing local changes for when server is available",Ce.warning)),t._id=(0,de.Z)(),we("Adding offline request"),we(t),this.persistence.addNewItemToState(e.OBJECT_STORE,t,!1)},t.getListenerName=function(){return"Offline manager"},t.stateChanged=function(t,n,i){var a=this;i&&i.length>0&&(Ee.getInstance().show("Queued Changes","There are "+i.length+" queued changes, sending to server.",Ce.warning),i.forEach((function(t){a.persistence.removeItemFromState(e.OBJECT_STORE,t,p,!1),we("Processing offline request with priority and from offline"),we(t),Se.getInstance().addApiRequest(t,!0,!0)}))),this.persistence.forceResetForGet(e.OBJECT_STORE)},t.stateChangedItemAdded=function(e,t,n){},t.stateChangedItemRemoved=function(e,t,n){},t.stateChangedItemUpdated=function(e,t,n,i){},e}();function Ne(e,t,n,i,a,r,s){try{var o=e[r](s),d=o.value}catch(e){return void n(e)}o.done?t(d):Promise.resolve(d).then(i,a)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){Ne(r,i,a,s,o,"next",e)}function o(e){Ne(r,i,a,s,o,"throw",e)}s(void 0)}))}}Fe.DB_NAME="offline.manager.db",Fe.OBJECT_STORE="offline.manager.db.requests";var De=u()("api-ts");const Se=function(){function e(){this.backgroundQueue=[],this.priorityQueue=[],this.inProgress=[],this.backgroundChangeListener=null,this.priorityChangeListener=null,this.callbackForQueueRequest=this.callbackForQueueRequest.bind(this)}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.processOfflineItems=function(){De("Checking for offline items"),Fe.getInstance().processQueuedResults()},t.setBackgroundChangeListener=function(e){this.backgroundChangeListener=e},t.setPriorityChangeListener=function(e){this.priorityChangeListener=e},t.getPriorityQueueCount=function(){return this.priorityQueue.length},t.getBackgroundQueueCount=function(){return this.backgroundQueue.length},t.addQLApiRequest=function(e,t,n,i,a,r){void 0===r&&(r=!1);var s={url:e,type:K.POST,params:{query:t,variables:n},callbackId:i,associatedStateName:a};this.addApiRequest(s,r)},t.addQLMutationRequest=function(e,t,n,i,a,r){void 0===r&&(r=!1);var s={url:e,type:K.POST,params:{mutation:t,variables:n},callbackId:i,associatedStateName:a};this.addApiRequest(s,r)},t.addApiRequest=function(){var e=Te(regeneratorRuntime.mark((function e(t,n,i){var a,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!1),void 0===i&&(i=!1),a=(0,de.Z)(),De("Adding Queue Request "+a),De(t),!Fe.getInstance().areWeOffline()){e.next=10;break}return De("We are offline, queueing request for when server back online."),Fe.getInstance().addOfflineRequest(t),ce.getInstance().getCallbackById(t.callbackId)(t.params,500,t.associatedStateName,!1),e.abrupt("return");case 10:n?(r={originalRequest:t,requestId:a,queueType:J.PRIORITY,callback:this.callbackForQueueRequest,wasOffline:i},this.priorityQueue.push(r),this.priorityChangeListener&&this.priorityChangeListener.handleEventAddToQueue()):(s={originalRequest:t,requestId:a,queueType:J.BACKGROUND,callback:this.callbackForQueueRequest,wasOffline:i},this.backgroundQueue.push(s),this.backgroundChangeListener&&this.backgroundChangeListener.handleEventAddToQueue()),this.processQueues();case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.processPriorityQueue=function(){var e=Te(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==(t=this.priorityQueue.shift())&&this.inProgress.push(t),void 0!==t&&this.initiateFetchForQueueItem(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.processBackgroundQueue=function(){var e=Te(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==(t=this.backgroundQueue.shift())&&this.inProgress.push(t),void 0!==t&&this.initiateFetchForQueueItem(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.processQueues=function(){var e=Te(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.priorityQueue.length+this.backgroundQueue.length;case 1:if(!(t>0)){e.next=14;break}if(De("processing queue, items remaining "+t),!(this.priorityQueue.length>0)){e.next=8;break}return e.next=6,this.processPriorityQueue();case 6:e.next=11;break;case 8:if(!(this.backgroundQueue.length>0)){e.next=11;break}return e.next=11,this.processBackgroundQueue();case 11:t=this.priorityQueue.length+this.backgroundQueue.length,e.next=1;break;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.callbackForQueueRequest=function(e,t,n,i){n===J.PRIORITY?this.priorityChangeListener&&this.priorityChangeListener.handleEventRemoveFromQueue():this.backgroundChangeListener&&this.backgroundChangeListener.handleEventRemoveFromQueue(),De("received callback for queue "+n+" request "+i+" with status "+t);var a=this.inProgress.findIndex((function(e){return e.requestId===i}));if(a>=0){var r=this.inProgress[a];this.inProgress.splice(a,1),De(r),500===t?(De("queue item "+r.requestId+" - server offline, queueing for later"),Fe.getInstance().addOfflineRequest(r.originalRequest),ce.getInstance().getCallbackById(r.originalRequest.callbackId)(r.originalRequest.params,t,r.originalRequest.associatedStateName,r.wasOffline)):(De("finished for queue item "+r.requestId+" with possible offline id of "+r.originalRequest._id),ce.getInstance().getCallbackById(r.originalRequest.callbackId)(e,t,r.originalRequest.associatedStateName,r.wasOffline))}},t.initiateFetchForQueueItem=function(e){switch(De("Download Manager: initiating fetch for queue item "+e.requestId),De(e),e.originalRequest.type){case K.POST:oe.apiFetchJSONWithPost(e);break;case K.GET:oe.apiFetchJSONWithGet(e);break;case K.DELETE:oe.apiFetchJSONWithDelete(e);break;case K.PUT:oe.apiFetchJSONWithPut(e)}},e}();var Oe,Ae=u()("state-manager-api"),ke=function(){function e(){this.configuration=[],this.delegate=new M("restapi"),this.emitEvents(),this.bHasCompletedRun=[],this.callbackForAddItem=this.callbackForAddItem.bind(this),this.callbackForRemoveItem=this.callbackForRemoveItem.bind(this),this.callbackForUpdateItem=this.callbackForUpdateItem.bind(this),this.callbackForGetItems=this.callbackForGetItems.bind(this),ce.getInstance().addRegisterCallback(e.FUNCTION_ID_ADD_ITEM,this.callbackForAddItem),ce.getInstance().addRegisterCallback(e.FUNCTION_ID_REMOVE_ITEM,this.callbackForRemoveItem),ce.getInstance().addRegisterCallback(e.FUNCTION_ID_UPDATE_ITEM,this.callbackForUpdateItem),ce.getInstance().addRegisterCallback(e.FUNCTION_ID_GET_ITEMS,this.callbackForGetItems)}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.getConfiguredStateNames=function(){var e=[];return this.configuration.forEach((function(t){e.push(t.stateName)})),e},t.hasCompletedRun=function(e){var t=!1,n=this.configuration.findIndex((function(t){return t.stateName===e}));return n>=0&&(t=this.bHasCompletedRun[n]),t},t.setCompletedRun=function(e){var t=this.configuration.findIndex((function(t){return t.stateName===e}));t>=0&&(this.bHasCompletedRun[t]=!0)},t.forceResetForGet=function(e){var t=this.configuration.findIndex((function(t){return t.stateName===e}));t>=0&&(this.bHasCompletedRun[t]=!1)},t.initialise=function(e){this.configuration=e;var t=[];this.configuration.forEach((function(e){t.push(!1)})),this.bHasCompletedRun=t},t._addNewNamedStateToStorage=function(e){},t._getState=function(t){if(Ae("Getting All "+t),this.hasCompletedRun(t))Ae("Getting All "+t+" - not done - previously retrieved");else{var n=this.getConfigurationForStateName(t);if(n.isActive){var i={url:n.serverURL+n.api,type:K.GET,params:{},callbackId:e.FUNCTION_ID_GET_ITEMS,associatedStateName:t};Se.getInstance().addApiRequest(i,!0)}else Ae("No configuration for state "+t)}return{name:t,value:[]}},t._ensureStatePresent=function(e){},t._replaceNamedStateInStorage=function(e){},t._saveState=function(e,t){},t._addItemToState=function(t,n,i){if(void 0===i&&(i=!1),!i){Ae("Adding item to "+t),Ae(n);var a=this.getConfigurationForStateName(t);if(a.isActive){var r={url:a.serverURL+a.api,type:K.POST,params:n,callbackId:e.FUNCTION_ID_ADD_ITEM,associatedStateName:t};Se.getInstance().addApiRequest(r,!0)}else Ae("No configuration for state "+t)}},t._removeItemFromState=function(t,n,i,a){if(!a){Ae("Removing item from "+t),Ae(n);var r=this.getConfigurationForStateName(t),s=n.id;if(r.idField&&(s=n[r.idField]),r.isActive){var o={url:r.serverURL+r.api,type:K.DELETE,params:{id:s},callbackId:e.FUNCTION_ID_REMOVE_ITEM,associatedStateName:t};Se.getInstance().addApiRequest(o,!0)}else Ae("No configuration for state "+t)}},t._updateItemInState=function(t,n,i,a){if(!a){Ae("Updating item in "+t),Ae(n);var r=this.getConfigurationForStateName(t);if(r.isActive){var s={url:r.serverURL+r.api,type:K.PUT,params:n,callbackId:e.FUNCTION_ID_UPDATE_ITEM,associatedStateName:t};Se.getInstance().addApiRequest(s,!0)}else Ae("No configuration for state "+t)}},t.addChangeListenerForName=function(e,t){this.delegate.addChangeListenerForName(e,t)},t.addNewItemToState=function(e,t,n){this._addItemToState(e,t,n)},t.emitEvents=function(){this.delegate.emitEvents()},t.findItemInState=function(e,t,n){throw Error("not implemented")},t.getStateByName=function(e){this._getState(e)},t.informChangeListenersForStateWithName=function(e,t,n,i){this.delegate.informChangeListenersForStateWithName(e,t,n,i)},t.isItemInState=function(e,t,n){return!0},t.removeItemFromState=function(e,t,n,i){return Ae("Removing item from state "+e+" is persisted "+i),Ae(t),this._removeItemFromState(e,t,n,i),!0},t.setStateByName=function(e,t,n){},t.suppressEvents=function(){this.delegate.suppressEvents()},t.updateItemInState=function(e,t,n,i){return this._updateItemInState(e,t,n,i),!0},t.getConfigurationForStateName=function(e){var t={stateName:e,serverURL:"",api:"",isActive:!1},n=this.configuration.findIndex((function(t){return t.stateName===e}));return n>=0&&(t=this.configuration[n]),t},t.callbackForRemoveItem=function(e,t,n){Ae("callback for remove item for state "+n+" with status "+t+" - not forwarded"),t>=200&&t<=299&&Ae(e)},t.callbackForUpdateItem=function(e,t,n){Ae("callback for update item for state "+n+" with status "+t+" - not forwarded"),t>=200&&t<=299&&Ae(e)},t.callbackForGetItems=function(e,t,n){Ae("callback for get items for state "+n+" with status "+t+" - FORWARDING"),t>=200&&t<=299&&(Ae(e),this.setCompletedRun(n),this.delegate.informChangeListenersForStateWithName(n,e,L.StateChanged,null))},t.callbackForAddItem=function(e,t,n,i){Ae("callback for add item for state "+n+" with status "+t+" - FORWARDING"),t>=200&&t<=299&&(Ae(e),i?(Ae("Item was added offline, update the current data"),this.delegate.informChangeListenersForStateWithName(n,e,L.ItemUpdated,null)):this.delegate.informChangeListenersForStateWithName(n,e,L.ItemAdded,null)),500===t&&(Ae("Item adding - offline, but will be queued later"),this.delegate.informChangeListenersForStateWithName(n,e,L.ItemAdded,null))},e}();ke.FUNCTION_ID_ADD_ITEM="rest.api.state.manager.add.item",ke.FUNCTION_ID_REMOVE_ITEM="rest.api.state.manager.remove.item",ke.FUNCTION_ID_UPDATE_ITEM="rest.api.state.manager.update.item",ke.FUNCTION_ID_GET_ITEMS="rest.api.state.manager.get.items",function(e){e.id="Id",e.uuid="UUID",e.text="Text",e.integer="Integer",e.float="Number",e.money="Money",e.date="Date",e.time="Time",e.shortTime="Short Time",e.datetime="Datetime",e.email="Email",e.password="Password",e.boolean="True/False",e.userId="User",e.choice="Choice",e.limitedChoice="Limited Choice",e.largeText="TextArea",e.collection="Collection",e.duration="Duration"}(Oe||(Oe={}));var Re=n(381),Le=n.n(Re),_e=u()("security-manager"),je=function(){function e(){this.hash=null,this.logoutEl=null}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.onDocumentLoaded=function(e){this.logoutEl=document.getElementById(e);var t=this.getLoggedInUsername();t&&t.trim().length>0&&(_e("found user "+t),this.hash=localStorage.getItem(t),this.hash?sessionStorage.setItem(t,this.hash):this.hash=sessionStorage.getItem(t),localStorage.removeItem(t),_e("found user "+t+" hash "+this.hash+" - removed from local storage")),this.logoutEl&&this.logoutEl.addEventListener("click",(function(e){localStorage.removeItem(t),sessionStorage.removeItem(t)}))},t.isLoggedIn=function(){var e=!1;try{loggedInUser&&(e=!0)}catch(e){}return e},t.getLoggedInUserId=function(){var e="";try{loggedInUser&&(e=loggedInUser._id)}catch(e){}return _e("Logged in user id is "+e),e},t.getLoggedInUsername=function(){var e="";try{loggedInUser&&(e=loggedInUser.username)}catch(e){}return _e("Logged in user is "+e),e},t.getCurrentUser=function(){return this.getLoggedInUserId()},t.encryptString=function(e){var t=e;return this.hash&&(t=CryptoJS.AES.encrypt(e,this.hash).toString()),t},t.decryptString=function(e){var t=e;return this.hash&&(t=CryptoJS.AES.decrypt(e,this.hash).toString(CryptoJS.enc.Utf8)),t},t.encryptObject=function(e){return this.encryptString(JSON.stringify(e))},t.decryptObject=function(e){return JSON.parse(this.decryptString(e))},e}(),xe=u()("basic-field-operations-formatter"),Me=u()("basic-field-operations-validator"),Be=u()("basic-field-operations-generator"),Ve=u()("basic-field-operations-renderer"),Pe=function(){function e(){this.previousFieldValues=[]}var t=e.prototype;return t.setSubElements=function(e){},t.formatValue=function(e,t){xe("Handling format value for field "+e.displayName+" with value "+t);var n=t;switch(e.type){case Oe.date:n=Le()(t,"DD/MM/YYYY").format("YYYYMMDD");break;case Oe.datetime:n=Le()(t,"DD/MM/YYYY HH:mm:ss").format("YYYYMMDDHHmmss");break;case Oe.boolean:n="true"===t.toLowerCase();break;case Oe.id:e.idType===a.number&&(n=parseInt(t));break;case Oe.float:var i=parseFloat(t);isNaN(i)||(n=i);break;case Oe.money:var r=parseFloat(t);isNaN(r)||(n=r);break;case Oe.integer:var s=parseFloat(t);isNaN(s)||(n=s)}return xe("Handling format value for field "+e.displayName+" with value "+t+" - result is "+n),n},t.isValidValue=function(t,n){Me("Handling is valid value for field "+t.displayName+" with value "+n);var i={isValid:!0,resetOnFailure:!1};if(t.mandatory){if(!n||0===n.trim().length)return i.isValid=!1,i.message=t.displayName+" is required. Please enter a valid value.",Me("Handling is valid value for field "+t.displayName+" with value "+n+" - is valid is "+i.isValid+" with message "+i.message),i;if(t.type===Oe.boolean&&"true"!==n.trim().toLowerCase())return i.isValid=!1,i.message=t.displayName+" is required and must be selected.",Me("Handling is valid value for field "+t.displayName+" with value "+n+" - is valid is "+i.isValid+" with message "+i.message),i}if(n)switch(t.type){case Oe.datetime:i.isValid=e.dateTimeRegex.test(n),i.isValid||(i.message=t.displayName+" must be DD/MM/YYYY hh:mm");break;case Oe.date:i.isValid=e.dateRegex.test(n),i.isValid||(i.message=t.displayName+" must be DD/MM/YYYY");break;case Oe.float:i.isValid=e.floatRegexp.test(n),i.isValid||(i.message=t.displayName+" must be 00.00");break;case Oe.money:i.isValid=e.moneyRegexp.test(n),i.isValid||(i.message=t.displayName+" must be 0.00");break;case Oe.id:i.isValid=e.integerRegex.test(n),i.isValid||(i.message=t.displayName+" must be an integer");break;case Oe.email:i.isValid=e.emailRegex.test(n),i.isValid||(i.message=t.displayName+" must be an email address");break;case Oe.integer:i.isValid=e.integerRegex.test(n),i.isValid||(i.message=t.displayName+" must be an integer");break;case Oe.text:break;case Oe.password:i.isValid=e.basicPasswordRegex.test(n),i.isValid||(i.message=t.displayName+" must be 8 to 15 letters and digits only");break;case Oe.time:i.isValid=e.timeRegex.test(n),i.isValid||(i.message=t.displayName+" must be 24 hour time format HH:MM:SS");break;case Oe.shortTime:i.isValid=e.shortTimeRegex.test(n),i.isValid||(i.message=t.displayName+" must be 24 hour time format HH:MM");break;case Oe.duration:i.isValid=e.durationRegexp.test(n),i.isValid||(i.message=t.displayName+" must be in the format MM:SS or 999:MM:SS");break;case Oe.boolean:i.isValid=e.booleanRegexp.test(n),i.isValid||(i.message=t.displayName+" must be true or false")}return Me("Handling is valid value for field "+t.displayName+" with value "+n+" - is valid is "+i.isValid+" with message "+i.message),i},t.renderValue=function(e,t){if(Ve("Rendering value for field "+e.displayName+" with new value "+t),t){var n=t;switch(e.type){case Oe.date:n=Le()(t,"YYYYMMDD").format("DD/MM/YYYY");break;case Oe.datetime:n=Le()(t,"YYYYMMDDHHmmss").format("DD/MM/YYYY HH:mm:ss")}return this.setPreviousValue(e,n),Ve("Rendering value for field "+e.displayName+" with new value "+t+" - rendered to "+n),n}return Ve("Rendering value for field "+e.displayName+" with new value is empty - no rendering required"),null},t.generate=function(e,t){var n="";return e.generator&&(e.generator.onCreation&&t&&(n=this.generateValue(e),Be("Generating value for field "+e.displayName+" with on creation "+n)),e.generator.onModify&&!t&&(n=this.generateValue(e),Be("Generating value for field "+e.displayName+" with on modify "+n))),n},t.setPreviousValue=function(e,t){var n;Ve("Storing previous value for field "+e.displayName+" with  new value "+t);var i=this.previousFieldValues.findIndex((function(t){return t.id===e.id}));i>=0?(n=this.previousFieldValues[i],Ve("Storing previous value for field "+e.displayName+" with new value "+t+" - old value was "+n),n.value=t):(n={id:e.id,value:t},Ve("Storing previous value for field "+e.displayName+" with new value "+t+" - NO previous"),this.previousFieldValues.push(n))},t.generateValue=function(e){var t="";switch(e.type){case Oe.datetime:t=Le()().format("YYYYMMDDHHmmss");break;case Oe.date:t=Le()().format("YYYYMMDD");break;case Oe.float:t="0.0";break;case Oe.money:t="0.00";break;case Oe.id:t="-1";break;case Oe.email:t="me@me.com";break;case Oe.integer:t="0";break;case Oe.text:case Oe.password:t="";break;case Oe.time:t="00:00:00";break;case Oe.shortTime:case Oe.duration:t="00:00";break;case Oe.boolean:t="false";break;case Oe.uuid:t=(0,de.Z)();break;case Oe.userId:t=""+je.getInstance().getLoggedInUsername()}return t},e}();Pe.dateRegex=/^((0?[1-9]|[12]\d|31)\/(0?[13578]|1[02])\/(\d{2}|\d{4})|(0?[1-9]|[12]\d|30)\/(0?[469]|11])\/(\d{2}|\d{4})|(0?[1-9]|1\d|2[0-8])\/02\/(\d{2}|\d{4})|(29\/02\/(\d{2})?(0[48]|[2468][048]|[13579][26]))|(29\/02\/([02468][048]|[13579][26])00))$/,Pe.emailRegex=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()\.,;\s@\"]+\.{0,1})+([^<>()\.,;:\s@\"]{2,}|[\d\.]+))$/,Pe.shortTimeRegex=/^([01]\d|2[0-3]):?([0-5]\d)$/,Pe.timeRegex=/^([01]\d|2[0-3]):?([0-5]\d):?([0-5]\d)$/,Pe.dateTimeRegex=/^((0?[1-9]|[12]\d|31)\/(0?[13578]|1[02])\/(\d{2}|\d{4})|(0?[1-9]|[12]\d|30)\/(0?[469]|11])\/(\d{2}|\d{4})|(0?[1-9]|1\d|2[0-8])\/02\/(\d{2}|\d{4})|(29\/02\/(\d{2})?(0[48]|[2468][048]|[13579][26]))|(29\/02\/([02468][048]|[13579][26])00))\s([01]\d|2[0-3]):?([0-5]\d):?([0-5]\d)$/,Pe.basicPasswordRegex=/^[a-zA-Z0-9]{8,15}$/,Pe.integerRegex=/^[+-]?\d+$/,Pe.floatRegexp=/^[+-]?\d+(\.\d+)?$/,Pe.moneyRegexp=/^[+-]?\d+\.\d{2}$/,Pe.booleanRegexp=/^true|false$/,Pe.durationRegexp=/^(\d+:)?[0-5]?\d:[0-5]\d$/;var Ue,qe,He="createdOn",Ge="modifiedOn",Ye="Created By",We="Last Modified By",Qe="Created On",Ke="Last Modified On",Je=function(){function e(){}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.generateStartingDisplayOrder=function(e){var t=[];return e.fields.forEach((function(e,n){var i={fieldId:e.id,displayOrder:n};e.id===He&&(i.displayOrder+=100),e.id===Ge&&(i.displayOrder+=101),e.type===Oe.userId&&(i.displayOrder+=100),t.push(i)})),t},t.createBasicObjectDefinition=function(e,t,n,i,r,s){void 0===r&&(r=!0),void 0===s&&(s="id");var o={id:e,displayName:t,fields:[]},d=new Pe;if(n){var l=Oe.id;i&&(l=Oe.uuid);var c={id:s,isKey:!0,idType:a.number,type:l,displayName:"Id",mandatory:!0,generator:{generator:d,onModify:!1,onCreation:!0}};o.fields.push(c)}return r&&(this.addCreatedDateToArray(o.fields),this.addCreatedByToArray(o.fields),this.addModifiedByToArray(o.fields),this.addModifiedDateToArray(o.fields)),o},t.addStringFieldToObjDefinition=function(e,t,n,i,a,r,s){return void 0===a&&(a=!1),void 0===r&&(r=null),void 0===s&&(s=null),this.addStringFieldToArray(e.fields,t,n,i,a,r,s)},t.addNumericFieldToObjDefinition=function(e,t,n,i,a,r,s){return void 0===a&&(a=!1),void 0===r&&(r=null),void 0===s&&(s=null),this.addNumericFieldToArray(e.fields,t,n,i,a,r,s)},t.addCreatedDateToArray=function(e){var t=this.addStringFieldToArray(e,He,Qe,Oe.datetime,!0,Qe);t.generator={generator:new Pe,onCreation:!0,onModify:!1},t.displayOnly=!0},t.addCreatedDateToDefinition=function(e){this.addCreatedDateToArray(e.fields)},t.addModifiedDateToArray=function(e){var t=this.addStringFieldToArray(e,Ge,Ke,Oe.datetime,!0,Ke);t.generator={generator:new Pe,onCreation:!0,onModify:!0},t.displayOnly=!0},t.addModifiedDateToDefinition=function(e){this.addModifiedDateToDefinition(e)},t.addCreatedByToArray=function(e){var t=this.addNumericFieldToArray(e,"createdBy",Ye,Oe.userId,!0,Ye);t.generator={generator:new Pe,onCreation:!0,onModify:!1},t.displayOnly=!0},t.addModifiedByToArray=function(e){var t=this.addStringFieldToArray(e,"modifiedBy",We,Oe.userId,!0,We);t.generator={generator:new Pe,onCreation:!0,onModify:!0},t.displayOnly=!0},t.addFieldToArray=function(e,t,n,i,a,r,s,o){void 0===r&&(r=!1),void 0===s&&(s=null),void 0===o&&(o=null);var d={id:n,isKey:!1,idType:t,type:a,displayName:i,mandatory:r,displayOnly:!1};return r&&(d.generator={generator:new Pe,onCreation:!0,onModify:!1}),s&&(d.description=s),o&&(d.dataSource=o),e.push(d),d},t.addStringFieldToArray=function(e,t,n,i,r,s,o){return void 0===r&&(r=!1),void 0===s&&(s=null),void 0===o&&(o=null),this.addFieldToArray(e,a.string,t,n,i,r,s,o)},t.addNumericFieldToArray=function(e,t,n,i,r,s,o){return void 0===r&&(r=!1),void 0===s&&(s=null),void 0===o&&(o=null),this.addFieldToArray(e,a.string,t,n,i,r,s,o)},t.setDefaultValueForField=function(e,t,n){var i=e.fields.findIndex((function(e){return e.id===t}));if(i>=0){var a=e.fields[i];if(a){var r={generator:n,onCreation:!0,onModify:!1};a.generator=r}}},e}(),ze=u()("object-definition-registry"),$e=function(){function e(){this.definitions=[]}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.findDefinition=function(e){var t=null,n=this.definitions.findIndex((function(t){return t.id===e}));return n>=0&&(t=this.definitions[n]),t},t.addDefinition=function(e,t,n,i,a,r){void 0===a&&(a=!0),void 0===r&&(r="id"),ze("Adding definition for "+e+" with name "+t);var s=this.findDefinition(e);if(s)return s;var o=Je.getInstance().createBasicObjectDefinition(e,t,n,i,a,r);return this.definitions.push(o),o},t.createInstanceFromDef=function(e){ze("Creating instance for definition "+e.displayName);var t={},n=new Pe;return e.fields.forEach((function(e){if(e.generator&&e.generator.onCreation){var i=e.generator.generator.generate(e,!0);switch(e.type){case Oe.date:case Oe.datetime:break;default:i=n.formatValue(e,i)}ze("Setting default values for "+e.displayName+" to "+i),t[e.id]=i}e.type===Oe.collection&&(t[e.id]=[])})),t},t.createInstance=function(e){ze("Creating instance for definition "+e);var t={},n=this.findDefinition(e);return n&&(t=this.createInstanceFromDef(n)),t},e}(),Xe=function(){function e(e){this.options=e,this.listeners=[]}var t=e.prototype;return t.addValueOption=function(e,t){var n=this;this.options.push({name:e,value:t}),this.listeners.forEach((function(e){return e.optionsChanged(n.options)}))},t.addListener=function(e){this.listeners.push(e)},t.getOptions=function(){return this.options},e}(),Ze=function(){function e(e){this.defaultValue=e}return e.prototype.generate=function(e,t){var n="";return t&&(n=this.defaultValue),n},e}(),et=u()("controller-ts"),tt=u()("controller-ts-detail"),nt=function(){function e(){}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.connectToApplication=function(e,t){this.applicationView=e,this.clientSideStorage=t;var n=ke.getInstance();n.initialise([{stateName:Z,serverURL:"",api:"/api/transaction",isActive:!0,idField:"_id"}]);var i=X.getInstance(),a=q.getInstance(),r=new W(i,n);return i.addStateManager(a,[],!1),i.addStateManager(r,[],!1),this.stateManager=i,this.setupDataObjectDefinitions(),this},t.onDocumentLoaded=function(){et("Initialising data state"),this.getStateManager().getStateByName(Z),Se.getInstance().processOfflineItems()},t.getStateManager=function(){return this.stateManager},t.getListenerName=function(){return"Controller"},t.create=function(e,t,n){switch(t){case Z:et("Handling create new transaction"),tt(n),this.stateManager.addNewItemToState(t,n,!1)}},t.delete=function(e,t,n){switch(t){case Z:et("Handling delete transaction - already managed by stateful collection view"),tt(n)}},t.update=function(e,t,n){switch(t){case Z:et("Handling update transaction"),tt(n),this.stateManager.updateItemInState(t,n,p,!1)}},t.setupDataObjectDefinitions=function(){var e=$e.getInstance().addDefinition(Z,"Transaction",!0,!0,!1,"_id");Je.getInstance().addStringFieldToObjDefinition(e,"name","Name",Oe.text,!0,"Name"),Je.getInstance().addStringFieldToObjDefinition(e,"type","Type",Oe.limitedChoice,!0,"Choose deposit or withdrawal",new Xe([{name:"Deposit",value:"deposit"},{name:"Withdrawal",value:"withdrawal"}])),Je.getInstance().addStringFieldToObjDefinition(e,"amount","Amount",Oe.money,!0,"Amount"),Je.getInstance().addCreatedDateToDefinition(e),Je.getInstance().setDefaultValueForField(e,"type",new Ze("withdrawal")),et(e)},e}();!function(e){e[e.checkbox=0]="checkbox",e[e.email=1]="email",e[e.hidden=2]="hidden",e[e.number=3]="number",e[e.password=4]="password",e[e.text=5]="text",e[e.textarea=6]="textarea",e[e.select=7]="select",e[e.radioGroup=8]="radioGroup"}(Ue||(Ue={})),function(e){e[e.unset=-1]="unset",e[e.create=0]="create",e[e.update=1]="update"}(qe||(qe={}));var it,at,rt,st="data-id";!function(e){e.SHOWN="shown",e.HIDDEN="hidden",e.CANCELLING="cancelling",e.CANCELLING_ABORTED="cancelling-aborted",e.CANCELLED="cancelled",e.SAVING="saving",e.SAVE_ABORTED="save-aborted",e.SAVED="saved",e.DELETING="deleting",e.DELETE_ABORTED="delete-aborted",e.DELETED="deleted",e.CREATING="creating",e.MODIFYING="modifying",e.RESETTING="reset"}(it||(it={})),function(e){e[e.equals=0]="equals",e[e.lessThan=1]="lessThan",e[e.lessThanEqual=2]="lessThanEqual",e[e.greaterThan=3]="greaterThan",e[e.greaterThanEqual=4]="greaterThanEqual",e[e.isNull=5]="isNull",e[e.isNotNull=6]="isNotNull",e[e.hasValue=7]="hasValue"}(at||(at={})),function(e){e[e.show=0]="show",e[e.hide=1]="hide",e[e.invalid=2]="invalid",e[e.valid=3]="valid"}(rt||(rt={}));var ot=u()("validation-manager"),dt=u()("validation-manager-rule-failure"),lt=function(){function e(){this.formRules=[]}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.getName=function(){return"Validation Manager"},t.addRuleToForm=function(e,t){var n=this;ot("Adding rule on form "+e.getId()+" for target field "+t.targetDataFieldId);var i=e.getFieldFromDataFieldId(t.targetDataFieldId);if(!i)return dt("Rule not added for form "+e.getId()+" for target field "+t.targetDataFieldId+" - NOT FOUND in form"),!1;var a={targetField:i,response:t.response,fieldConditions:[],valueConditions:[]};t.conditions.forEach((function(r){if(!r.values&&!r.sourceDataFieldId)return dt("Rule not added for form "+e.getId()+" for target field "+t.targetDataFieldId+" - a condition is missing both values and source field"),!1;if(r.values&&r.sourceDataFieldId){ot("Rule adding for form "+e.getId()+" for target field "+t.targetDataFieldId+" - source field "+r.sourceDataFieldId+" with values "+r.values);var s=e.getFieldFromDataFieldId(r.sourceDataFieldId);if(!s)return dt("Rule not added for form "+e.getId()+" for target field "+t.targetDataFieldId+" - source field "+r.sourceDataFieldId+" NOT FOUND"),!1;a.fieldConditions.push({sourceField:s,comparison:r.comparison,values:r.values}),s.addFieldListener(n)}else if(r.values&&!r.sourceDataFieldId)ot("Rule adding for form "+e.getId()+" for target field "+t.targetDataFieldId+" - values "+r.values),a.valueConditions.push({values:r.values,comparison:r.comparison}),i.addFieldListener(n);else if(r.sourceDataFieldId&&!r.values){ot("Rule adding for form "+e.getId()+" for target field "+t.targetDataFieldId+" - source field "+r.sourceDataFieldId);var o=e.getFieldFromDataFieldId(r.sourceDataFieldId);if(!o)return dt("Rule not added for form "+e.getId()+" for target field "+t.targetDataFieldId+" - source field "+r.sourceDataFieldId+" NOT FOUND"),!1;var d=o.getFieldDefinition().type;switch(i.getFieldDefinition().type){case Oe.date:case Oe.datetime:if(d!==Oe.datetime&&d!==Oe.date)return dt("Rule not added for form "+e.getId()+" for target field "+t.targetDataFieldId+" - target is date(time), source is NOT"),!1;break;case Oe.time:case Oe.shortTime:if(d!==Oe.time&&d!==Oe.shortTime)return dt("Rule not added for form "+e.getId()+" for target field "+t.targetDataFieldId+" - target is time, source is NOT"),!1;break;case Oe.boolean:if(d!==Oe.boolean)return dt("Rule not added for form "+e.getId()+" for target field "+t.targetDataFieldId+" - target is boolean, source is NOT"),!1;break;case Oe.integer:case Oe.float:if(d!==Oe.integer&&d!==Oe.float)return dt("Rule not added for form "+e.getId()+" for target field "+t.targetDataFieldId+" - target is number, source is NOT"),!1}a.fieldConditions.push({sourceField:o,comparison:r.comparison}),o.addFieldListener(n)}})),ot("Converted rule to "),ot(a);var r,s=this.formRules.findIndex((function(t){return t.form.getId()===e.getId()}));return s<0?((r={form:e,rules:[]}).rules.push(a),this.formRules.push(r)):(r=this.formRules[s]).rules.push(a),ot("Current set of rules for form "+e.getId()),ot(r),!0},t.failedValidation=function(e,t,n,i){},t.applyRulesToTargetField=function(e,t,n){var i=this;ot("Checking rules for form "+e+", data field "+t.id+" of type "+n);var a=this.getRulesForFieldChange(e,t.id,!1),r={ruleFailed:!1};if(n){var s=[];a.forEach((function(e){e.response===n&&s.push(e)})),a=s}return a.forEach((function(n){var a=i.executeRule(n);a.ruleFailed&&(dt("Rule failed for form "+e+" with field "+t.displayName+" with message "+a.message),r.ruleFailed=!0,r.message=a.message)})),r},t.valueChanged=function(e,t,n){var i=this;ot("Handling field change - form "+e+", data field "+t.id+", value "+n);var a=this.getRulesForFieldChange(e,t.id,!0),r=[];a.forEach((function(e){var t=i.executeRule(e);t.ruleFailed&&r.push(t)})),ot("Have "+r.length+" failed rules - applying each"),r.forEach((function(e){switch(e.response){case rt.hide:ot("Apply hide "+e.field.getId()),e.field.hide();break;case rt.show:ot("Apply show "+e.field.getId()),e.field.show();break;case rt.invalid:ot("Apply invalid "+e.field.getId()),e.message&&e.field.setInvalid(e.message);break;case rt.valid:ot("Apply valid "+e.field.getId()),e.field.setValid()}}))},t.areTwoFieldsEqual=function(e,t){return e.getValue()!==t.getValue()?{ruleFailed:!0,message:e.getName()+" must be equal to "+t.getName()}:{ruleFailed:!1}},t.compareTwoValuesWithTypes=function(e,t,n,i,a){if(!t||!i)return!1;switch(e){case Oe.date:t+=" 00:00:00",n===Oe.date&&(i+=" 00:00:00");break;case Oe.datetime:n===Oe.date&&(i+=" 00:00:00");break;case Oe.time:n===Oe.shortTime&&(i+=":00");break;case Oe.shortTime:t+=":00",n===Oe.shortTime&&(i+=":00")}switch(ot("Comparing "+t+" of type "+e+" against "+i+" of type "+n),a){case at.lessThan:return t<i;case at.lessThanEqual:return t<=i;case at.greaterThanEqual:return t>=i;case at.greaterThan:return t>i;case at.equals:return t===i}return!1},t.isTargetLessThanSource=function(e,t){var n=t.getFieldDefinition().type,i=e.getFieldDefinition().type,a=t.getValue(),r=e.getValue();return this.compareTwoValuesWithTypes(i,r,n,a,at.lessThan)?{ruleFailed:!1}:{ruleFailed:!0,message:e.getName()+" must be less than "+t.getName()}},t.isTargetLessThanEqualSource=function(e,t){var n=this.areTwoFieldsEqual(e,t);return n.ruleFailed&&(n=this.isTargetLessThanSource(e,t)).ruleFailed?{ruleFailed:!0,message:e.getName()+" must be less than or equal to "+t.getName()}:{ruleFailed:!1}},t.isTargetGreaterThan=function(e,t){var n=t.getFieldDefinition().type,i=e.getFieldDefinition().type,a=t.getValue(),r=e.getValue();return this.compareTwoValuesWithTypes(i,r,n,a,at.greaterThan)?{ruleFailed:!1}:{ruleFailed:!0,message:e.getName()+" must be greater than "+t.getName()}},t.isSourceNull=function(e){var t=e.getValue();return t&&t.trim().length>0?{ruleFailed:!0,message:e.getName()+" must be empty"}:{ruleFailed:!1}},t.isSourceNotNull=function(e){var t=e.getValue();return!t||t.trim().length>0?{ruleFailed:!0,message:e.getName()+" must not be empty"}:{ruleFailed:!1}},t.doesFieldHaveValue=function(e,t){var n=e.getValue();if(ot("does field "+e.getId()+" have value from "+t+" - current value is "+n),n){var i=t.split(","),a=!1;if(i.forEach((function(i){n===i&&(ot("does field "+e.getId()+" have value from "+t+" - current value is "+n+" - found in value(s)"),a=!0)})),a)return{ruleFailed:!1}}return{ruleFailed:!0,message:e.getName()+" must be have a value in "+t}},t.doesSourceFieldHaveValue=function(e,t){return this.doesFieldHaveValue(e,t)},t.isTargetGreaterThanEqualSource=function(e,t){var n=this.areTwoFieldsEqual(e,t);return n.ruleFailed&&(n=this.isTargetGreaterThan(e,t)).ruleFailed?{ruleFailed:!0,message:e.getName()+" must be greater than or equal to "+t.getName()}:{ruleFailed:!1}},t.compareFields=function(e,t,n,i){switch(n){case at.equals:return this.areTwoFieldsEqual(e,t);case at.lessThan:return this.isTargetLessThanSource(e,t);case at.lessThanEqual:return this.isTargetLessThanEqualSource(e,t);case at.greaterThan:return this.isTargetGreaterThan(e,t);case at.greaterThanEqual:return this.isTargetGreaterThanEqualSource(e,t);case at.isNull:return this.isSourceNull(t);case at.isNotNull:return this.isSourceNotNull(t);case at.hasValue:return this.doesSourceFieldHaveValue(t,i)}},t.executeRule=function(e){var t=this,n={field:e.targetField,ruleFailed:!1,response:e.response};return ot("Executing rule for target "+e.targetField.getId()),ot(e),e.fieldConditions.every((function(i){ot("field condition rule"),ot(i);var a=i.values?i.values:"",r=t.compareFields(e.targetField,i.sourceField,i.comparison,a);return r.ruleFailed?(dt("field condition rule FAILED"),n.ruleFailed=!0,n.message=r.message,!1):(dt("field condition rule PASSED"),!0)})),n.ruleFailed||e.valueConditions.forEach((function(i){ot("value condition rule"),ot(i);var a=t.compareFields(e.targetField,e.targetField,at.hasValue,i.values);return a.ruleFailed?(dt("value condition rule FAILED"),n.ruleFailed=!0,n.message=a.message,!1):(dt("value condition rule PASSED"),!0)})),n},t.getRulesForFieldChange=function(e,t,n){var i=[];ot("Finding rules for form "+e+" and data field "+t);var a=this.formRules.findIndex((function(t){return t.form.getId()===e}));return a>=0&&this.formRules[a].rules.forEach((function(e){e.targetField.getId()===t?(ot("Found rule where data field "+t+" is target"),e.targetField.isValid()?i.push(e):dt("Found rule where data field "+t+" is target but value is not currently valid")):n&&e.fieldConditions.every((function(n){return n.sourceField.getId()!==t||(ot("Found rule where data field "+t+" is source"),n.sourceField.isValid()?i.push(e):dt("Found rule where data field "+t+" is source but value is not currently valid"),!1)}))})),i},e}();function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ut=u()("abstract-form"),ft=u()("abstract-form-detail"),mt=u()("abstract-form-detail-validation"),ht=function(){function e(e,t){if(this.formListeners=[],this.fieldListeners=[],this.uiDef=null,this.isVisible=!1,this.fields=[],this.isInitialised=!1,this.hasChangedBoolean=!1,this.isDisplayOnly=!1,this.containerEl=document.getElementById(e),!this.containerEl)throw new Error("container "+e+" for form "+t.id+" does not exist");this.map=[],this.dataObjDef=t,this.currentDataObj={},this.id=(0,de.Z)(),this.addFormListener(this)}var t=e.prototype;return t.hasChanged=function(){return this.hasChangedBoolean},t.getName=function(){return this.dataObjDef.displayName},t.valueChanged=function(e,t,n){this.hasChangedBoolean=!0,this.setUnsavedMessage(),ut("Form has changed")},t.failedValidation=function(e,t,n,i){this.hasChangedBoolean=!0,ut("Form has changed")},t.initialise=function(e,t,n){void 0===n&&(n=!1),this.isInitialised||(this.isInitialised=!0,this._initialise(e,t,n))},t.addFieldListener=function(e){this.fieldListeners.push(e)},t.addFormListener=function(e){this.formListeners.push(e)},t.reset=function(){if(ut("Resetting form"),this.clearUnsavedMessage(),this.isDisplayOnly=!1,this.hasChangedBoolean=!1,this.uiDef){var e={formId:this.id,target:this,eventType:it.RESETTING};this.informFormListeners(e,this.currentDataObj)}this.currentDataObj={},this._reset(),this.fields.forEach((function(e){e.reset()})),this.hasChangedBoolean=!1},t.setIsVisible=function(e){if(ut("Changing visibility to "+e),this.isVisible=e,this.uiDef){var t=it.HIDDEN;this.isVisible?(this._visible(),t=it.SHOWN):this._hidden();var n={formId:this.id,target:this,eventType:t};this.informFormListeners(n,this.currentDataObj)}e&&!this.isDisplayOnly&&this.checkFormValidationOnDisplay(),e&&this.isDisplayOnly&&this.checkForVisualValidationForDisplayOnly()},t.startCreateNew=function(){if(this.clearUnsavedMessage(),ut("Starting create new"),this.reset(),this.currentDataObj={},this.isDisplayOnly=!1,this.hasChangedBoolean=!1,this.uiDef){var e=it.CREATING,t={formId:this.id,target:this,eventType:e};this._startCreate(),this.informFormListeners(t,this.currentDataObj)}return this.clearReadOnly(),this.currentDataObj},t.startUpdate=function(e){if(this.clearUnsavedMessage(),ut("Starting modify existing on "),this.isDisplayOnly=!1,this.hasChangedBoolean=!1,ut(e),this.currentDataObj=ct({},e),this.uiDef){var t=it.MODIFYING,n={formId:this.id,target:this,eventType:t};this._startUpdate(),this.informFormListeners(n,this.currentDataObj)}this.clearReadOnly()},t.displayOnly=function(e){this.clearUnsavedMessage(),ut("Starting display only "),ut(e),this.isDisplayOnly=!0,this.hasChangedBoolean=!1,this.currentDataObj=ct({},e),this.uiDef&&this._displayOnly(),this.setReadOnly()},t.formChanged=function(e,t){var n=this,i=!1;switch(e.eventType){case it.CANCELLING:if(ut("Form is cancelling"),this.hasChangedBoolean&&!this.isDisplayOnly)this.uiDef&&F.getInstance().startAlert(this,this.uiDef.displayName,"Lose any unsaved changes?",it.CANCELLING);else if(this.uiDef){var a={formId:this.id,target:this,eventType:it.CANCELLED};this.informFormListeners(a,this.currentDataObj)}break;case it.CANCELLING_ABORTED:ut("Form is cancelling - aborted");break;case it.CANCELLED:ut("Form is cancelled - resetting"),this.isDisplayOnly=!0,this.reset(),this.setReadOnly();break;case it.DELETING:ut("Form is deleting"),this.uiDef&&F.getInstance().startAlert(this,this.uiDef.displayName,"Are you sure you want to delete this information?",it.DELETING);break;case it.DELETE_ABORTED:ut("Form is deleting - aborted");break;case it.DELETED:ut("Form is deleted - resetting"),this.reset();break;case it.SAVE_ABORTED:this._saveFinishedOrAborted(),ut("Form save cancelled");break;case it.SAVED:this._saveFinishedOrAborted(),ut("Form is saved with data"),ut(t),this.isDisplayOnly=!1,this.hasChangedBoolean=!1;break;case it.SAVING:if(ut("Form is saving, checking validation and storing values"),this._saveIsActive(),this.uiDef){var r=!0;if(this.fields.forEach((function(e){var t=e.getValue();if(e.isValid()){var i=lt.getInstance().applyRulesToTargetField(n.id,e.getFieldDefinition(),rt.invalid);i.ruleFailed?(e.setInvalid(i.message),mt("Field "+e.getId()+" is invalid from validation manager with message "+i.message),r=!1):n.setFieldValueToDataObject(n.currentDataObj,e,t)}else mt("Field "+e.getId()+" is invalid"),e.setInvalid(e.getName()+" has an invalid format or is required."),r=!1})),r){ut("formatted data object is");var s=this.getFormattedDataObject(),o={formId:this.id,target:this,eventType:it.SAVED};this.informFormListeners(o,s)}else{ut("Form is saving, checking validation - FAILED");var d={formId:this.id,target:this,eventType:it.SAVE_ABORTED};this.informFormListeners(d,this.currentDataObj),i=!0}break}}return i},t.getId=function(){return this.id},t.getFieldFromDataFieldId=function(e){var t=void 0;ft("Finding field for attribute "+e+" ");var n=this.map.find((function(t){return t.attributeId===e}));return n&&(ft("Mapped attribute "+n.attributeId+" to field "+n.fieldId),t=this.fields.find((function(e){return e.getId()===n.attributeId}))),t},t.completed=function(e){if(ut("Handling alert completed"),ut(e),e.context&&this.uiDef)switch(e.context){case it.CANCELLING:if(e.outcome===b.confirmed){var t={formId:this.id,target:this,eventType:it.CANCELLED};this.informFormListeners(t,this.currentDataObj)}else{var n={formId:this.id,target:this,eventType:it.CANCELLING_ABORTED};this.informFormListeners(n,this.currentDataObj)}break;case it.DELETING:if(e.outcome===b.confirmed){var i={formId:this.id,target:this,eventType:it.DELETED};this.informFormListeners(i,this.currentDataObj)}else{var a={formId:this.id,target:this,eventType:it.DELETE_ABORTED};this.informFormListeners(a,this.currentDataObj)}}},t.clearReadOnly=function(){this.fields.forEach((function(e){e.clearReadOnly()}))},t.setReadOnly=function(){this.fields.forEach((function(e){e.setReadOnly()}))},t.isDisplayingItem=function(e){return!!this.currentDataObj&&this._isSameObjectAsDisplayed(e)},t.isReadOnly=function(){return this.isDisplayOnly},t.informFormListeners=function(e,t){this.formListeners.forEach((function(n){return n.formChanged(e,t)}))},t.findFieldUiConfig=function(e){ft("Finding field UI Config for field "+e.displayName);var t=null;if(this.uiDef)for(var n=0;n<this.uiDef.fieldGroups.length;){if(t=this.uiDef.fieldGroups[n].fields.find((function(t){return t.field.id===e.id}))){ft("Finding field UI Config for field "+e.displayName+" - Found");break}n++}return t},t.checkForVisualValidationForDisplayOnly=function(){var e=this;ut("Checking display validation for display only"),this.fields.forEach((function(t){t.show();var n=lt.getInstance().applyRulesToTargetField(e.id,t.getFieldDefinition(),rt.hide);n.ruleFailed&&(t.hide(),mt("Field "+t.getId()+" is hidden from validation manager with message "+n.message))}))},t.checkFormValidationOnDisplay=function(){var e=this;ut("Checking display validation"),this.fields.forEach((function(t){if(t.show(),t.getValue(),t.isValid()){var n=lt.getInstance().applyRulesToTargetField(e.id,t.getFieldDefinition(),rt.invalid);n.ruleFailed&&(t.setInvalid(n.message),mt("Field "+t.getId()+" is invalid from validation manager with message "+n.message)),(n=lt.getInstance().applyRulesToTargetField(e.id,t.getFieldDefinition(),rt.hide)).ruleFailed&&(t.hide(),mt("Field "+t.getId()+" is hidden from validation manager with message "+n.message))}else ut("Field "+t.getId()+" is invalid"),t.setInvalid(t.getName()+" has an invalid format or is required.")}))},e}(),gt=u()("basic-field-operations-formatter"),pt=u()("basic-field-operations-validator"),vt=(u()("basic-field-operations-generator"),u()("basic-field-operations-renderer")),bt=function(){function e(){this.radioButtons=[]}var t=e.prototype;return t.formatValue=function(e,t){gt("Handling format value for RBG "+e.displayName+" with value "+t);var n=t;return this.radioButtons.forEach((function(t){t.checked&&(n=t.value,e.idType===a.number&&(n=parseInt(n)))})),gt("Handling format value for field "+e.displayName+" with value "+t+" - result is "+n),n},t.isValidValue=function(e,t){pt("Handling is valid value for field "+e.displayName+" with value "+t);var n={isValid:!1,resetOnFailure:!1};if(e.mandatory){if(this.radioButtons.forEach((function(e){e.checked&&(n.isValid=!0)})),!n.isValid)return n.message=e.displayName+" is required. Please select one of the values.",pt("Handling is valid value for field "+e.displayName+" with value "+t+" - is valid is "+n.isValid+" with message "+n.message),n}else n.isValid=!0;return pt("Handling is valid value for field "+e.displayName+" with value "+t+" - is valid is "+n.isValid+" with message "+n.message),n},t.renderValue=function(e,t){return vt("Rendering value for field "+e.displayName+" with new value "+t),this.radioButtons.forEach((function(e){e.value===t&&(e.checked=!0)})),null},t.generate=function(e,t){return""},t.setSubElements=function(e){this.radioButtons=e},e}(),yt=u()("bootstrap-form-config-helper"),It=function(){function e(){}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.generateFormConfig=function(e,t,n,i){void 0===i&&(i=!1);var a=new Pe,r=new bt,s=[];e.fields.forEach((function(e,n){var o=Ue.text;switch(e.type){case Oe.time:case Oe.text:case Oe.date:case Oe.shortTime:case Oe.duration:break;case Oe.datetime:i&&(e.id===He&&(o=Ue.hidden),e.id===Ge&&(o=Ue.hidden));break;case Oe.userId:o=i?Ue.hidden:Ue.text;break;case Oe.uuid:case Oe.id:o=Ue.hidden;break;case Oe.integer:case Oe.float:o=Ue.number;break;case Oe.email:o=Ue.email;break;case Oe.password:o=Ue.password;break;case Oe.boolean:o=Ue.checkbox;break;case Oe.largeText:o=Ue.textarea;break;case Oe.choice:o=Ue.select;break;case Oe.limitedChoice:o=Ue.radioGroup}var d=t.find((function(t){return t.fieldId===e.id})),l=n;d&&(l=d.displayOrder);var c={field:e,displayOrder:l,elementType:o,elementClasses:"form-control col-md-12 col-lg-9",renderer:a,formatter:a};e.type!==Oe.id&&e.type!==Oe.uuid&&o!==Ue.hidden&&(c.containedBy={elementType:"div",elementClasses:"form-group row"},c.label={label:e.displayName,classes:"col-md-12 col-lg-3 col-form-label"},e.description&&(c.describedBy={message:e.description,elementType:"small",elementClasses:"text-muted col-md-12 col-lg-9 offset-lg-3 mt-1"}),e.displayOnly||(c.validator={validator:a,messageDisplay:{elementType:"div",elementClasses:"invalid-feedback col-md-12 col-lg-9 offset-lg-3"},validClasses:"is-valid",invalidClasses:"is-invalid"})),e.type===Oe.largeText&&(c.textarea={rows:5,cols:20}),e.type===Oe.choice&&(c.subElement={element:{elementType:"option",elementClasses:""}},c.datasource=e.dataSource),e.type===Oe.limitedChoice&&(c.subElement={element:{elementType:"input",elementClasses:"form-check-input",elementAttributes:[{name:"type",value:"radio"}]},container:{elementType:"div",elementClasses:"form-check form-check-inline"},label:{label:"label",classes:"form-check-label"}},c.renderer=r,c.validator&&(c.validator.validator=r),c.formatter=r,c.datasource=e.dataSource),s.push(c)}));var o={containedBy:{elementType:"div",elementClasses:"col-sm-12"},fields:s},d={id:e.id,displayName:e.displayName,fieldGroups:[o],unsavedChanges:{elementType:"div",elementClasses:"invalid-feedback text-right col-md-12 col-lg-9 offset-lg-3",elementAttributes:[{name:"style",value:"display:block"}],innerHTML:"Pending changes to "+e.displayName},buttonsContainedBy:{elementType:"div",elementClasses:"d-flex w-100 justify-space-between"},cancelButton:{buttonText:"Cancel  ",buttonClasses:"btn-info rounded p-1 mr-2 mt-2 w-100",iconClasses:"fas fa-ban"},submitButton:{buttonText:"Save  ",buttonClasses:"btn-primary rounded p-1 mt-2 w-100",iconClasses:"fas fa-save"},activeSave:'<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>&nbsp;'};return d.fieldGroups.forEach((function(e){e.fields.sort((function(e,t){return e.displayOrder-t.displayOrder}))})),n&&(d.deleteButton={buttonText:"Delete  ",buttonClasses:"btn-warning rounded p-1 mr-2 mt-2 w-100",iconClasses:"fas fa-trash-alt"}),yt(d),d},e}(),Ct=function(){function e(e,t,n,i){void 0===i&&(i=null),this.formId=e,this.fieldConfig=t,this.listeners=n,this.subElements=i,this.handleEvent=this.handleEvent.bind(this)}var t=e.prototype;return t.setValidationStatusAndMessage=function(e,t,n,i,a){var r=this;if(void 0===i&&(i=void 0),void 0===a&&(a=!1),this.fieldConfig.validator&&e){var s=this.fieldConfig.field,o=e;if(this.subElements&&(this.fieldConfig.validator.validator.setSubElements(this.subElements),this.fieldConfig.subElement)){var d=e.parentElement;d&&(o=d,this.fieldConfig.subElement.container&&(d=d.parentElement)&&(o=d))}var c=document.getElementById(this.formId+".field."+this.fieldConfig.field.id+".error"),u=document.getElementById(this.formId+".field."+this.fieldConfig.field.id+".error.message");if(null==c||c.setAttribute("style","display:none"),u&&(u.innerHTML=""),this.fieldConfig.validator.invalidClasses&&l.addRemoveClasses(o,this.fieldConfig.validator.invalidClasses,!1),this.fieldConfig.validator.validClasses&&l.addRemoveClasses(o,this.fieldConfig.validator.validClasses),!t){if(this.fieldConfig.validator.invalidClasses&&l.addRemoveClasses(o,this.fieldConfig.validator.invalidClasses),this.fieldConfig.validator.validClasses&&l.addRemoveClasses(o,this.fieldConfig.validator.validClasses,!1),i||(i=s.displayName+" does not have a valid value."),null==c||c.setAttribute("style","display:block"),u&&(u.innerHTML=i),a)switch(s.type){case Oe.boolean:e.checked=!1;break;case Oe.integer:e.value="0";break;case Oe.float:e.value="0.0";break;default:e.value=""}this.listeners.forEach((function(e){return e.failedValidation(r.formId,s,n,i)}))}}},t.processValidation=function(e){if(this.fieldConfig.validator&&e){var t=this.fieldConfig.field,n=e.value;this.fieldConfig.elementType===Ue.checkbox&&(n=""+e.checked),this.subElements&&(n="",this.subElements.forEach((function(e){e.checked&&(n=e.value)})));var i=this.fieldConfig.validator.validator.isValidValue(t,n);this.setValidationStatusAndMessage(e,i.isValid,n,i.message,i.resetOnFailure)}},t.handleEvent=function(e){e.preventDefault(),e.stopPropagation();var t=e.target;this.processValidation(t)},e}(),Et=function(){function e(e,t,n){this.formId=e,this.fieldConfig=t,this.listeners=n,this.handleEvent=this.handleEvent.bind(this)}return e.prototype.handleEvent=function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=e.target;if(this.fieldConfig.editor){var i=this.fieldConfig.field,a=n.value,r=this.fieldConfig.editor.editValue(i,a);r&&(n.value=r,this.listeners.forEach((function(e){return e.valueChanged(t.formId,i,r)})))}},e}(),wt=function(){function e(e,t,n){this.formId=e,this.parentElement=t,this.fieldUIConfig=n}return e.prototype.optionsChanged=function(e){l.removeAllChildren(this.parentElement),Ft.createSubElements(this.formId,this.parentElement,this.fieldUIConfig,e)},e}(),Ft=function(){function e(){}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.initialiseFieldElementAndEventHandlers=function(e,t,n,i,a){if(void 0===a&&(a=null),e.setAttribute("id",t+".field."+n.field.id),e.setAttribute(st,n.field.id),e.setAttribute("name",n.field.id),n.elementAttributes&&l.addAttributes(e,n.elementAttributes),n.elementClasses&&l.addRemoveClasses(e,n.elementClasses),n.field.displayOnly&&l.addAttributes(e,[{name:"disabled",value:"true"},{name:"readonly",value:"true"}]),n.validator){var r=new Ct(t,n,i,a);a?a.forEach((function(e){e.addEventListener("blur",r)})):e.addEventListener("blur",r)}n.editor&&e.addEventListener("focus",new Et(t,n,i)),n.field.type===Oe.date&&($(e).datepicker(),$(e).datepicker("option","dateFormat","dd/mm/yy"))},e.createFieldComponentsAndContainer=function(e,t,n,i,a){var r=null;if(i.validator){(r=document.createElement("div")).setAttribute("id",t+".field."+i.field.id+".error"),r.setAttribute("style","display: none"),l.addRemoveClasses(r,i.validator.messageDisplay.elementClasses);var s=document.createElement(i.validator.messageDisplay.elementType);s&&(s.setAttribute("id",t+".field."+i.field.id+".error.message"),i.validator.messageDisplay.elementAttributes&&l.addAttributes(s,i.validator.messageDisplay.elementAttributes),r.appendChild(s))}if(i.containedBy){var o=document.createElement(i.containedBy.elementType);if(o){if(l.addRemoveClasses(o,i.containedBy.elementClasses),o.setAttribute("id",t+".field."+i.field.id+".container"),i.containedBy.elementAttributes&&l.addAttributes(n,i.containedBy.elementAttributes),i.label){var d=document.createElement("label");d.setAttribute("for",t+".field."+i.field.id),d.innerHTML=i.field.displayName,i.label.attributes&&l.addAttributes(d,i.label.attributes),i.label.classes&&l.addRemoveClasses(d,i.label.classes),o.appendChild(d)}if(i.describedBy){var c=document.createElement(i.describedBy.elementType);c?(c.setAttribute("id",t+".field."+i.field.id+".desc"),i.field.description&&(c.innerHTML=i.field.description),e.setAttribute("aria-describedby",t+".field."+i.field.id+".desc"),i.describedBy.elementClasses&&l.addRemoveClasses(c,i.describedBy.elementClasses),o.appendChild(e),o.appendChild(c),r&&o.appendChild(r)):(o.appendChild(e),r&&o.appendChild(r))}else o.appendChild(e),r&&o.appendChild(r);n.appendChild(o)}else n.appendChild(e),r&&n.appendChild(r)}else n.appendChild(e),r&&n.appendChild(r)},e.createSubElements=function(e,t,n,i){var a=[];return i.forEach((function(i,r){if(n.subElement){var s=t;n.subElement.container&&(s=document.createElement(n.subElement.container.elementType),l.addRemoveClasses(s,n.subElement.container.elementClasses),n.subElement.container.elementAttributes&&l.addAttributes(s,n.subElement.container.elementAttributes),t.appendChild(s));var o=document.createElement(n.subElement.element.elementType);if(o.setAttribute("value",i.value),o.setAttribute("id",e+".field."+n.field.id+"."+r),o.setAttribute("name",e+".field."+n.field.id),l.addRemoveClasses(o,n.subElement.element.elementClasses),n.subElement.element.elementAttributes&&l.addAttributes(o,n.subElement.element.elementAttributes),s.appendChild(o),n.subElement.label){var d=document.createElement("label");n.subElement.label.classes&&l.addRemoveClasses(d,n.subElement.label.classes),n.subElement.label.attributes&&l.addAttributes(d,n.subElement.label.attributes),d.innerHTML=i.name,s.appendChild(d)}else o.innerHTML=i.name;a.push(o)}})),a};var t=e.prototype;return t.createInputFormFieldComponentElement=function(t,n,i,a){var r=document.createElement("input");switch(i.elementType){case Ue.checkbox:r.setAttribute("type","checkbox"),r.setAttribute("value",i.field.id);break;case Ue.email:r.setAttribute("type","email");break;case Ue.hidden:r.setAttribute("type","hidden");break;case Ue.number:r.setAttribute("type","number");break;case Ue.password:r.setAttribute("type","password");break;case Ue.text:r.setAttribute("type","text")}return e.initialiseFieldElementAndEventHandlers(r,t,i,a),e.createFieldComponentsAndContainer(r,t,n,i,a),r},t.createTAFormFieldComponentElement=function(t,n,i,a){var r=document.createElement("textarea");return i.textarea&&(r.setAttribute("rows",""+i.textarea.rows),r.setAttribute("cols",""+i.textarea.cols)),e.initialiseFieldElementAndEventHandlers(r,t,i,a),e.createFieldComponentsAndContainer(r,t,n,i,a),r},t.createSelectFormFieldComponentElement=function(t,n,i,a){var r=document.createElement("select");return i.datasource&&(e.createSubElements(t,r,i,i.datasource.getOptions()),i.datasource.addListener(new wt(t,r,i))),e.initialiseFieldElementAndEventHandlers(r,t,i,a),e.createFieldComponentsAndContainer(r,t,n,i,a),r},t.createRadioGroupFormFieldComponentElement=function(t,n,i,a){var r=document.createElement("div");i.elementAttributes&&l.addAttributes(r,i.elementAttributes),i.elementClasses&&l.addRemoveClasses(r,i.elementClasses);var s=[];return i.datasource&&(s=e.createSubElements(t,r,i,i.datasource.getOptions()),i.datasource.addListener(new wt(t,r,i)),i.validator&&i.validator.validator.setSubElements(s),i.renderer&&i.renderer.setSubElements(s),i.formatter&&i.formatter.setSubElements(s)),e.initialiseFieldElementAndEventHandlers(r,t,i,a,s),e.createFieldComponentsAndContainer(r,t,n,i,a),{container:r,radioButtons:s}},e}(),Nt=function(){function e(){}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.createFormElements=function(e,t,n,i){var a=document.createElement("form");a.setAttribute("id",n.id),a.setAttribute("name",n.displayName),n.classes&&l.addRemoveClasses(a,n.classes);var r=[],s=[],o=[],d=[],c=document.createElement(n.unsavedChanges.elementType);l.addRemoveClasses(c,n.unsavedChanges.elementClasses),n.unsavedChanges.elementAttributes&&l.addAttributes(c,n.unsavedChanges.elementAttributes),a.appendChild(c),n.fieldGroups.forEach((function(e){var t=a;e.containedBy&&(t=document.createElement(e.containedBy.elementType))&&(e.containedBy.elementAttributes&&l.addAttributes(t,e.containedBy.elementAttributes),e.containedBy.elementClasses&&l.addRemoveClasses(t,e.containedBy.elementClasses),a.appendChild(t)),e.fields.forEach((function(e){switch(e.elementType){case Ue.textarea:var a=Ft.getInstance().createTAFormFieldComponentElement(n.id,t,e,i);s.push(a);break;case Ue.select:var l=Ft.getInstance().createSelectFormFieldComponentElement(n.id,t,e,i);d.push(l);break;case Ue.radioGroup:var c=Ft.getInstance().createRadioGroupFormFieldComponentElement(n.id,t,e,i);o.push(c);break;default:var u=Ft.getInstance().createInputFormFieldComponentElement(n.id,t,e,i);r.push(u)}}))}));var u=a;n.buttonsContainedBy&&((u=document.createElement(n.buttonsContainedBy.elementType))?(n.buttonsContainedBy.elementAttributes&&l.addAttributes(u,n.buttonsContainedBy.elementAttributes),l.addRemoveClasses(u,n.buttonsContainedBy.elementClasses),a.appendChild(u)):u=a);var f=void 0;n.deleteButton&&(f=this.createFormButton(e,n,t,n.deleteButton,it.DELETING),u.appendChild(f));var m=this.createFormButton(e,n,t,n.cancelButton,it.CANCELLING);u.appendChild(m);var h=this.createFormButton(e,n,t,n.submitButton,it.SAVING);return u.appendChild(h),{form:a,unsavedMessage:c,fields:r,selectFields:d,radioButtonGroups:o,textFields:s,deleteButton:f,cancelButton:m,submitButton:h}},t.createFormButton=function(e,t,n,i,a){var r=document.createElement("button");if(l.addRemoveClasses(r,i.buttonClasses),r.setAttribute("id",t.id+"."+a),i.buttonText&&(r.innerText=i.buttonText),i.iconClasses){var s=document.createElement("i");s&&(l.addRemoveClasses(s,i.iconClasses),r.appendChild(s))}return r.addEventListener("click",(function(i){i.preventDefault(),i.stopPropagation();var r={target:e,formId:t.id,eventType:a};n.forEach((function(e){return e.formChanged(r)}))})),r},e}(),Tt=function(){function e(e,t,n,i){void 0===i&&(i=null),this.formId=e,this.fieldConfig=t,this.listeners=n,this.subElements=i,this.handleEvent=this.handleEvent.bind(this)}var t=e.prototype;return t.processRendering=function(e){var t="";if(this.fieldConfig.renderer){var n=this.fieldConfig.field,i=e.value;this.subElements&&this.fieldConfig.renderer.setSubElements(this.subElements),(t=this.fieldConfig.renderer.renderValue(n,i))&&(e.value=t,this.listeners.forEach((function(e){return e.valueChanged(n,t)})))}return t||""},t.handleEvent=function(e){e.preventDefault(),e.stopPropagation();var t=e.target;this.processRendering(t)},e}(),Dt=u()("abstract-field"),St=function(){function e(e,t,n,i,a){var r=this;void 0===a&&(a=null),this.config=null,this.subElements=[],this.listeners=[],this.hidden=!1,this.formId=e,this.config=t,this.definition=n,this.element=i,a&&(this.subElements=a),this.validationHandler=new Ct(e,t,[this],a),this.renderingHandler=new Tt(e,t,[this],a),this.handleChangeEvent=this.handleChangeEvent.bind(this),this.subElements?this.subElements.forEach((function(e){e.addEventListener("change",r.handleChangeEvent)})):this.element.addEventListener("change",this.handleChangeEvent)}var t=e.prototype;return t.isHidden=function(){return this.hidden},t.addFieldListener=function(e){Dt(this.getName()+" - adding listener "+e.getName()),this.listeners.findIndex((function(t){return t.getName()===e.getName()}))<0?this.listeners.push(e):Dt(this.getName()+" - duplicate listener "+e.getName()+" ignored")},t.getFieldDefinition=function(){return this.definition},t.setInvalid=function(e){var t=this;this.validationHandler.setValidationStatusAndMessage(this.element,!1,"",e,!1),this.listeners.forEach((function(n){return n.failedValidation(t.formId,t.definition,t.getValue(),e)}))},t.initialise=function(){},t.getValue=function(){var e=this,t=null;if(this.config&&this.element)switch(this.config.elementType){case Ue.radioGroup:Dt(this.definition.id+" - getting value - rbg"),this.subElements&&this.subElements.forEach((function(n){n.checked&&(Dt(e.definition.id+" - getting value - rbg - checked "+n.value),t=n.value,n.checked=!0)}));break;case Ue.checkbox:t=""+this.element.checked;break;default:t=this.element.value}return Dt(this.definition.id+" - getting value - "+t),t},t.getFormattedValue=function(){var e=null;return this.config&&this.element&&(e=this.element.value,this.config.elementType===Ue.checkbox&&(e=""+this.element.checked),this.config.formatter&&(e=this.config.formatter.formatValue(this.definition,e))),e},t.isValid=function(){var e=!0;return this.config&&this.element&&this.config.validator&&this.config.validator.validator&&(e=this.config.validator.validator.isValidValue(this.definition,this.getValue()).isValid),e},t.getId=function(){return this.definition.id},t.setValue=function(e){if(e=""+e,this.element&&this.config)switch(this.config.elementType){case Ue.radioGroup:this.subElements&&this.subElements.forEach((function(t){t.value===e&&(t.checked=!0)}));break;case Ue.checkbox:this.element.checked="true"===e.toLowerCase();break;case Ue.select:Dt(this.definition.id+" - setting value - "+e);for(var t=this.element,n=-1,i=0;i<t.options.length;i++){var a=t.options.item(i);Dt(this.definition.id+" - option value - "+a.value),a.value===e&&(Dt(this.definition.id+" - option value - "+a.value+" - SELECTED"),a.selected=!0,n=i)}Dt(this.definition.id+" - selected index "+n),t.selectedIndex=n;break;default:Dt(this.definition.id+" - setting value - "+e),this.element.value=e}},t.reset=function(){if(this.element)switch(this.definition.type){case Oe.boolean:this.element.checked=!1;break;case Oe.integer:this.element.value="0";break;case Oe.float:this.element.value="0.0";break;case Oe.limitedChoice:this.subElements&&this.subElements.forEach((function(e){e.checked=!1}));break;default:this.element.value=""}this.show()},t.clearValue=function(){this.reset()},t.validate=function(){this.element&&this.validationHandler.processValidation(this.element)},t.render=function(e){var t,n=e;if(null!=(t=this.config)&&t.renderer){var i=this.config.renderer.renderValue(this.definition,e);i&&(n=i)}return n},t.failedValidation=function(e,t,n,i){},t.valueChanged=function(e,t,n){},t.getName=function(){return this.definition.displayName},t.hide=function(){if(this.config)if(this.config.containedBy){var e=this.element.parentElement;e&&e.setAttribute("style","display:none")}else this.setReadOnly();this.hidden=!0},t.setValid=function(){this.validationHandler.setValidationStatusAndMessage(this.element,!0,"")},t.show=function(){if(this.config)if(this.config.containedBy){var e=this.element.parentElement;e&&e.removeAttribute("style")}else this.clearReadOnly();this.hidden=!0},t.clearReadOnly=function(){this.definition.displayOnly||(this.element.removeAttribute("readonly"),this.element.removeAttribute("disabled"),this.subElements&&this.subElements.forEach((function(e){e.removeAttribute("readonly"),e.removeAttribute("disabled")})))},t.setReadOnly=function(){this.element.setAttribute("readonly","true"),this.element.setAttribute("disabled","true"),this.subElements&&this.subElements.forEach((function(e){e.setAttribute("readonly","true"),e.setAttribute("disabled","true")}))},t.handleChangeEvent=function(e){var t=this;if(Dt("Handling change event"),this.config){var n=this.getValue();Dt("Handling change event - informing listeners"),this.listeners.forEach((function(e){return e.valueChanged(t.formId,t.definition,n)}))}},e}();function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var At=function(e){var t,n;function i(t,n,i,a){return e.call(this,t,n,i,a)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ot(t,n),i}(St);function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){var t,n;function i(t,n,i,a,r){return e.call(this,t,n,i,a,r)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,kt(t,n),i}(St);function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _t=function(e){var t,n;function i(t,n,i,a){return e.call(this,t,n,i,a)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Lt(t,n),i}(St);function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xt=function(e){var t,n;function i(t,n,i,a){return e.call(this,t,n,i,a)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,jt(t,n),i}(St);function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bt=u()("basic-form"),Vt=u()("basic-form-detail"),Pt=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,t,n)||this).factoryElements=null,i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Mt(t,n);var a=i.prototype;return a.getFormattedDataObject=function(){var e=this;Bt("Getting current formatted data");var t={};return this.dataObjDef.fields.forEach((function(n){e.currentDataObj[n.id],t[n.id]=e.getFormattedFieldValue(n)})),Bt(t),t},a.clearReadOnly=function(){e.prototype.clearReadOnly.call(this),this.enableButtons()},a.setReadOnly=function(){e.prototype.setReadOnly.call(this),this.disableButtons()},a._hidden=function(){var e;this.factoryElements&&(null==(e=this.containerEl)||e.removeChild(this.factoryElements.form))},a.setupFieldObject=function(e,t){void 0===t&&(t=[]);var n=e.getAttribute(st),i=e.getAttribute("id");if(Vt("Converting field input element "+i+" with data-id of "+n),n&&i){this.dataObjDef.fields.findIndex((function(e){return e.id===n}));var a=this.dataObjDef.fields.find((function(e){return e.id===n}));if(a){Vt("Converting field input element "+i+" with data-id of "+n+" field definition is"),Bt(a);var r=this.findFieldUiConfig(a);if(Vt("Converting field input element "+i+" with data-id of "+n+" field ui config is"),Bt(r),r&&this.uiDef){var s;switch(r.elementType){case Ue.textarea:s=new At(this.id,r,a,e);break;case Ue.radioGroup:s=new Rt(this.id,r,a,e,t);break;case Ue.select:s=new _t(this.id,r,a,e);break;default:s=new xt(this.id,r,a,e)}this.fields.push(s),s.addFieldListener(this),this.map.push({attributeId:n,fieldId:i})}}else Vt("Converting field input element "+i+" with data-id of "+n+" field definition is NOT FOUND")}},a.clearUnsavedMessage=function(){this.factoryElements&&(this.factoryElements.unsavedMessage.innerHTML="")},a.setUnsavedMessage=function(){this.factoryElements&&this.uiDef&&this.uiDef.unsavedChanges.innerHTML?this.factoryElements.unsavedMessage.innerHTML=this.uiDef.unsavedChanges.innerHTML:this.factoryElements&&(this.factoryElements.unsavedMessage.innerHTML="Pending changes to save")},a._initialise=function(e,t,n){var i=this;void 0===n&&(n=!1),Bt("Initialising"),this.uiDef=It.getInstance().generateFormConfig(this.dataObjDef,e,t,n),Bt(this.uiDef),this.factoryElements=Nt.getInstance().createFormElements(this,this.formListeners,this.uiDef,this.fieldListeners),Bt(this.factoryElements),Bt("Converting field input elements to Field objects"),this.factoryElements.fields.forEach((function(e){e.addEventListener("keyup",(function(e){Vt("key up in form "+i.getName()),i.hasChangedBoolean=!0,i.setUnsavedMessage()})),i.setupFieldObject(e)})),Bt("Converting field text area elements to Field objects"),this.factoryElements.textFields.forEach((function(e){e.addEventListener("keyup",(function(e){Vt("key up in form "+i.getName()),i.hasChangedBoolean=!0,i.setUnsavedMessage()})),i.setupFieldObject(e)})),Bt("Converting field select elements to Field objects"),this.factoryElements.selectFields.forEach((function(e){Vt("key up in form "+i.getName())})),Bt("Converting field rbg elements to Field objects"),this.factoryElements.radioButtonGroups.forEach((function(e){i.setupFieldObject(e.container,e.radioButtons)})),Bt("field/data map is "),Bt(this.map),Bt("fields are"),Bt(this.fields)},a._reset=function(){this.clearUnsavedMessage()},a.validateField=function(e){var t=this.getFieldFromDataFieldId(e.id);t&&t.validate()},a.renderField=function(e,t){var n=t,i=this.getFieldFromDataFieldId(e.id);return i&&(n=i.render(n)),n},a._startCreate=function(){var e=this;this.clearUnsavedMessage(),this.dataObjDef.fields.forEach((function(t){if(t.generator&&t.generator.onCreation){var n=t.generator.generator.generate(t,!0);Vt("Setting default values for "+t.displayName+" to "+n),e.currentDataObj[t.id]=n}var i=e.currentDataObj[t.id];i&&(i=e.renderField(t,i),e.setFieldValueFromDataObject(t,i)),e.validateField(t)})),this.factoryElements&&this.factoryElements.deleteButton&&l.addAttributes(this.factoryElements.deleteButton,[{name:"style",value:"display:none"}])},a._startUpdate=function(){var e=this;this.clearUnsavedMessage(),Bt(this.currentDataObj),this.dataObjDef.fields.forEach((function(t){if(t.generator&&t.generator.onModify){var n=t.generator.generator.generate(t,!1);Vt("Setting default modified values for "+t.displayName+" to "+n),e.currentDataObj[t.id]=n}var i=e.currentDataObj[t.id];i&&(i=e.renderField(t,i)),e.setFieldValueFromDataObject(t,i),e.validateField(t)})),this.factoryElements&&this.factoryElements.deleteButton&&l.removeAttributes(this.factoryElements.deleteButton,["style"])},a._displayOnly=function(){var e=this;this.clearUnsavedMessage(),Bt(this.currentDataObj),this.dataObjDef.fields.forEach((function(t){var n=e.currentDataObj[t.id];n&&(n=e.renderField(t,n)),e.setFieldValueFromDataObject(t,n)})),this.factoryElements&&this.factoryElements.deleteButton&&this.factoryElements&&l.addAttributes(this.factoryElements.deleteButton,[{name:"style",value:"display:none"}])},a._visible=function(){var e;this.factoryElements&&(null==(e=this.containerEl)||e.appendChild(this.factoryElements.form))},a.setFieldValueToDataObject=function(e,t,n){var i=this.map.find((function(e){return e.attributeId===t.getId()}));i?(Vt("Mapped field "+i.fieldId+" to attribute "+i.attributeId+" with value "+n),this.currentDataObj[i.attributeId]=n):Bt("Mapped field "+t.getId()+" to attribute NOT FOUND")},a.setFieldValueFromDataObject=function(e,t){var n=this.getFieldFromDataFieldId(e.id);n&&(t?n.setValue(t):n.clearValue())},a.getFormattedFieldValue=function(e){var t=null,n=this.map.find((function(t){return t.attributeId===e.id}));if(n){Vt("Mapped attribute "+n.attributeId+" to field "+n.fieldId+" with for getting formatted value");var i=this.fields.find((function(e){return e.getId()===n.attributeId}));i&&(t=i.getFormattedValue())}return t},a._isSameObjectAsDisplayed=function(e){var t=this,n=!1;return Vt("is same object as current"),Vt(e),Vt(this.currentDataObj),this.dataObjDef.fields.every((function(i){if(i.isKey){var a,r=null==(a=t.getFieldFromDataFieldId(i.id))?void 0:a.getValue(),s=e[i.id];return Vt("is same object id "+s+" as current "+r),(r&&!s||r&&!s)&&(n=!1),r&&s&&r==s&&(n=!0),!1}return!0})),n},a.enableButtons=function(){this.factoryElements&&this.uiDef&&(this.factoryElements.deleteButton&&this.factoryElements.deleteButton.removeAttribute("disabled"),this.factoryElements.cancelButton.removeAttribute("disabled"),this.factoryElements.submitButton.removeAttribute("disabled"),this.factoryElements.submitButton.innerHTML=this.uiDef.submitButton.buttonText)},a.disableButtons=function(){this.factoryElements&&(this.factoryElements.deleteButton&&this.factoryElements.deleteButton.setAttribute("disabled","true"),this.factoryElements.cancelButton.setAttribute("disabled","true"),this.factoryElements.submitButton.setAttribute("disabled","true"))},a._saveFinishedOrAborted=function(){Vt("save is finished or aborted"),this.enableButtons(),this.clearUnsavedMessage()},a._saveIsActive=function(){Vt("save is active"),this.disableButtons(),this.factoryElements&&this.uiDef&&this.uiDef.activeSave&&(Vt("save is active "+this.uiDef.activeSave),this.factoryElements.submitButton.innerHTML=this.uiDef.activeSave+this.uiDef.submitButton.buttonText)},i}(ht),Ut=u()("form-detail-view-renderer"),qt=function(){function e(e,t,n){this.form=null,this.containerId=e,this.objDef=t,this.currentItem={},this.isNewItem=!1,this.forwarder=null,this.view=null,this.permissionChecker=n}var t=e.prototype;return t.hasActionPermission=function(e,t,n){throw new Error("Method not implemented.")},t.setEventForwarder=function(e){this.forwarder=e},t.setView=function(e){this.view=e},t.onDocumentLoaded=function(){this.form=new Pt(this.containerId,this.objDef),this.form.addFormListener(this)},t.reset=function(){this.form&&this.form.reset()},t.initialise=function(e,t,n){this.form&&this.form.initialise(e,t,n)},t.displayItemReadonly=function(e){this.isNewItem=!1,this.form&&this.form.displayOnly(e)},t.getName=function(){return this.objDef.displayName},t.setContainedBy=function(e){throw new Error("Method not implemented.")},t.addEventListener=function(e){throw new Error("Method not implemented.")},t.hasChanged=function(){var e=!1;return this.form&&(e=this.form.hasChanged()),e},t.getUIConfig=function(){throw new Error("Method not implemented.")},t.getDataSourceKeyId=function(){throw new Error("Method not implemented.")},t.clearDisplay=function(){this.isNewItem=!1,this.form&&this.form.reset()},t.clearReadOnly=function(){this.form&&this.form.clearReadOnly()},t.setReadOnly=function(){this.form&&this.form.setReadOnly()},t.isReadOnly=function(){var e=!1;return this.form&&(e=this.form.isReadOnly()),e},t.createItem=function(){var e;return this.currentItem={},Ut("Creating new item with form "+(null==(e=this.form)?void 0:e.getId())),this.form&&(this.isNewItem=!0,this.currentItem=this.form.startCreateNew()),$('[data-toggle="tooltip"]').tooltip(),this.currentItem},t.displayItem=function(e){this.currentItem=e,this.isNewItem=!1,this.hasPermissionToUpdateItem(e)?this.form&&this.form.startUpdate(e):this.form&&this.form.displayOnly(e),$('[data-toggle="tooltip"]').tooltip()},t.hidden=function(){this.form&&this.form.setIsVisible(!1)},t.show=function(){this.form&&this.form.setIsVisible(!0)},t.render=function(){this.displayItem(this.currentItem),this.show()},t.hasPermissionToDeleteItem=function(e){return this.permissionChecker.hasPermissionToDeleteItem(e)},t.hasPermissionToUpdateItem=function(e){return this.permissionChecker.hasPermissionToUpdateItem(e)},t.getForm=function(){return this.form},t.handleActionItem=function(e,t){},t.isDisplayingItem=function(e){var t=!1;return this.currentItem&&this.form&&(t=this.form.isDisplayingItem(e)),t},t.formChanged=function(e,t){switch(e.eventType){case it.CANCELLING:Ut("Form is cancelling");break;case it.CANCELLING_ABORTED:Ut("Form is cancelling - aborted");break;case it.CANCELLED:Ut("Form is cancelled - resetting"),this.currentItem=t,this.forwarder&&this.view&&this.forwarder.cancelled(this.view,this.currentItem);break;case it.DELETING:Ut("Form is deleting");break;case it.DELETE_ABORTED:Ut("Form is deleting - aborted");break;case it.DELETED:Ut("Form is deleted - resetting"),this.currentItem=t,this.forwarder&&this.view&&this.forwarder.deletedItem(this.view,this.currentItem);break;case it.SAVE_ABORTED:Ut("Form save cancelled");break;case it.SAVED:if(Ut("Form is saved with data"),this.form){var n,i=null==(n=this.form)?void 0:n.getFormattedDataObject();this.isNewItem?this.forwarder&&this.view&&this.forwarder.saveNewItem(this.view,i):this.forwarder&&this.view&&this.forwarder.updateItem(this.view,i),this.isNewItem=!1}break;case it.SAVING:Ut("Form is saving")}return!1},t.getItemDescription=function(e,t){return""},t.getItemId=function(e,t){return""},e}();function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gt=function(e){var t,n;function i(){var t;return(t=e.call(this)||this).detailViewListeners=[],t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ht(t,n);var a=i.prototype;return a.addListener=function(t){e.prototype.addListener.call(this,t),this.detailViewListeners.push(t)},a.saveNewItem=function(e,t){this.suppressEventEmits||this.detailViewListeners.forEach((function(n){return n.saveNewItem(e,t)}))},a.updateItem=function(e,t){this.suppressEventEmits||this.detailViewListeners.forEach((function(n){return n.updateItem(e,t)}))},a.deletedItem=function(e,t){this.suppressEventEmits||this.detailViewListeners.forEach((function(n){return n.deletedItem(e,t)}))},a.cancelled=function(e,t){this.suppressEventEmits||this.detailViewListeners.forEach((function(n){return n.cancelled(e,t)}))},i}(f);function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wt=function(e){var t,n;function i(t,n){var i;(i=e.call(this,t)||this).currentItem=null,i.renderer=n;var a=new Gt;return i.eventForwarder=a,i.renderer.setView(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i.renderer.setEventForwarder(a),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Yt(t,n);var a=i.prototype;return a.addEventDetailListener=function(e){this.eventForwarder.addListener(e)},a.getItemId=function(e,t){return""},a.getItemDescription=function(e,t){return""},a.hasActionPermission=function(e,t,n){return!0},a.getItem=function(e,t){return this.currentItem},a.clearDisplay=function(){this.renderer.reset()},a.clearReadOnly=function(){this.renderer.clearReadOnly()},a.setReadOnly=function(){this.renderer.setReadOnly()},a.isReadOnly=function(){return this.renderer.isReadOnly()},a.createItem=function(){return this.renderer.createItem()},a.displayItem=function(e){this.currentItem=e,this.renderer.hasPermissionToUpdateItem(e)?this.renderer.displayItem(e):this.renderer.displayItemReadonly(e),this.show()},a.hidden=function(){this.renderer.hidden()},a.show=function(){this.renderer.show()},a.render=function(){this.displayItem(this.currentItem)},a.onDocumentLoaded=function(){this.renderer.onDocumentLoaded(),e.prototype.onDocumentLoaded.call(this)},a.hasPermissionToDeleteItem=function(e){return this.renderer.hasPermissionToDeleteItem(e)},a.hasPermissionToUpdateItem=function(e){return this.renderer.hasPermissionToUpdateItem(e)},a.handleActionItem=function(e,t){this.renderer.handleActionItem(e,t)},a.isDisplayingItem=function(e){return this.renderer.isDisplayingItem(e)},a.hasChanged=function(){return this.renderer.hasChanged()},a.initialise=function(e,t,n){void 0===n&&(n=!1),this.renderer.initialise(e,t,n)},i}(g),Qt=function(){function e(e){this.isCreatingNew=!1,this.typeName=e,this.listeners=[]}var t=e.prototype;return t.addListener=function(e){this.listeners.push(e)},t.startNewObject=function(){var e=!1;return this.isCreatingNew||(e=this._startNewObject(),this.isCreatingNew=e),e},t.isCreatingNewObject=function(){return this.isCreatingNew},t.informListenersOfCreate=function(e){var t=this;this.isCreatingNew=!1,this.listeners.forEach((function(n){return n.create(t,t.typeName,e)}))},t.informListenersOfUpdate=function(e){var t=this;this.isCreatingNew=!1,this.listeners.forEach((function(n){return n.update(t,t.typeName,e)}))},t.informListenersOfDelete=function(e){var t=this;this.isCreatingNew=!1,this.listeners.forEach((function(n){return n.delete(t,t.typeName,e)}))},e}();function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zt=u()("linked-controller"),$t=u()("linked-controller-detail"),Xt=function(){function e(e){this.controller=e}var t=e.prototype;return t.addView=function(e){e.addEventListener(this)},t.canDeleteItem=function(e,t){return!0},t.documentLoaded=function(e){},t.hideRequested=function(e){},t.itemAction=function(e,t,n){},t.itemDeleted=function(e,t){},t.itemDropped=function(e,t){},t.showRequested=function(e){},t.cancelled=function(e,t){this.controller.cancelled(e,t)},t.deletedItem=function(e,t){this.controller.deletedItem(e,t)},t.saveNewItem=function(e,t){this.controller.saveNewItem(e,t)},t.updateItem=function(e,t){this.controller.updateItem(e,t)},e}(),Zt=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,t)||this).children=[],zt("Starting with parent view "+n.getName()),i.parentView=n,i.delegate=new Xt(Kt(i)),i.parentView.addEventListener(Kt(i)),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,Jt(t,n);var a=i.prototype;return a.addLinkedDetailView=function(e){zt("Adding child view "+e.getName()),this.children.push(e),this.delegate.addView(e)},a.initialise=function(){},a.canDeleteItem=function(e,t){return zt("Handling delete item from view "+e.getName()),$t(t),this.parentView.hasPermissionToDeleteItemInNamedCollection("",t)},a.documentLoaded=function(e){zt("Handling document loaded view "+e.getName()),this.children.forEach((function(e){e.onDocumentLoaded()}))},a.hideRequested=function(e){zt("Handling hide  from view "+e.getName()),this.children.forEach((function(e){e.hidden()}))},a.itemAction=function(e,t,n){zt("Handling item action "+t+" from view "+e.getName()),$t(n),this.children.forEach((function(e){e.handleActionItem(t,n)}))},a.itemDeleted=function(e,t){zt("Handling item deleted from view "+e.getName()),$t(t),this.children.forEach((function(e){e.clearDisplay(),e.setReadOnly()}))},a.itemDeselected=function(e,t){zt("Handling item deselected from view "+e.getName()),$t(t),this.children.forEach((function(e){e.clearDisplay(),e.setReadOnly()}))},a.itemDragStarted=function(e,t){},a.itemDropped=function(e,t){},a.itemSelected=function(e,t){zt("Handling item selected from view "+e.getName()),$t(t),this.children.forEach((function(e){e.displayItem(t)}))},a.showRequested=function(e){zt("Handling show from view "+e.getName()),this.children.forEach((function(e){e.show()}))},a.canSelectItem=function(e,t){if(zt("Handling can select item from view "+e.getName()),$t(t),this.isCreatingNew)return!1;var n=!0;return this.children.forEach((function(e){e.hasChanged()&&($t("child view "+e.getName()+" has changed - cancelling"),n=!1)})),n||(n=confirm(e.getName()+" - unsaved changes.  Discard them?")),n},a.cancelled=function(e,t){zt("Handling cancelled from child view "+e.getName()),$t(t),this.isCreatingNew=!1},a.deletedItem=function(e,t){zt("Handling deleted from child view "+e.getName()),$t(t),this.informListenersOfDelete(t)},a.saveNewItem=function(e,t){zt("Handling save new from child view "+e.getName()),$t(t),this.informListenersOfCreate(t)},a.updateItem=function(e,t){zt("Handling update from child view "+e.getName()),$t(t),this.informListenersOfUpdate(t)},a._startNewObject=function(){zt("Handling start new object");var e=!0;return this.children.forEach((function(t){t.hasChanged()&&($t("child view "+t.getName()+" has changed - cancelling"),e=!1)})),e||(e=confirm("There are unsaved changes.  Discard them?")),this.children.length>0&&(zt("Handling start new object with child view "+this.children[0].getName()),this.children[0].createItem()&&(e=!0,this.children[0].show())),e},i}(Qt);function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nn=u()("ab-stateful-collection-view"),an=function(e){var t,n;function i(t,n,i){var a;return(a=e.call(this,t,i)||this).stateManager=n,a.stateChanged=a.stateChanged.bind(en(a)),a.stateManager.addChangeListenerForName(a.collectionName,en(a)),a}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,tn(t,n);var a=i.prototype;return a.getItemDescription=function(e,t){return""},a.hasActionPermission=function(e,t,n){return!0},a.onDocumentLoaded=function(){e.prototype.onDocumentLoaded.call(this),this.addEventCollectionListener(this)},a.getItemInNamedCollection=function(e,t){return this.stateManager.findItemInState(e,t,this.compareItemsForEquality)},a.stateChanged=function(e,t,n){nn("handling state "+t+" changed"),nn(n),this.updateViewForNamedCollection(t,n)},a.stateChangedItemAdded=function(e,t,n){nn("handling state "+t+" new item added"),nn(n),this.stateManager&&this.collectionName&&this.updateViewForNamedCollection(t,this.stateManager.getStateByName(t))},a.stateChangedItemRemoved=function(e,t,n){nn("handling state "+t+" new item removed"),nn(n),this.stateManager&&this.collectionName&&this.updateViewForNamedCollection(t,this.stateManager.getStateByName(t))},a.stateChangedItemUpdated=function(e,t,n,i){nn("handling state "+t+" new item updated"),nn(i),this.stateManager&&this.collectionName&&this.updateViewForNamedCollection(t,this.stateManager.getStateByName(t))},a.render=function(){this.updateViewForNamedCollection(this.collectionName,this.stateManager.getStateByName(this.collectionName))},a.show=function(){},a.hidden=function(){},a.documentLoaded=function(e){},a.hideRequested=function(e){},a.itemDragStarted=function(e,t){},a.itemDropped=function(e,t){},a.showRequested=function(e){},a.itemDeselected=function(e,t){},a.itemSelected=function(e,t){},a.itemAction=function(e,t,n){},a.itemDeleted=function(e,t){this.stateManager.removeItemFromState(this.collectionName,t,this.compareItemsForEquality,!1)},a.canSelectItem=function(e,t){return!0},a.canDeleteItem=function(e,t){return!0},a.getListenerName=function(){return this.getName()},i}(k),rn=u()("list-view-renderer-with-context"),sn=function(){function e(e,t){this.view=e,this.eventHandler=t}var t=e.prototype;return t.createDisplayElementForCollectionItem=function(e,t){var n=this,a=this.view.hasPermissionToDeleteItemInNamedCollection(e,t),r=this.view.getCollectionUIConfig();rn("view "+this.view.getName()+": creating List item"),rn(t),this.view.getIdForItemInNamedCollection(e,t);var s=document.createElement(r.resultsElementType);l.addRemoveClasses(s,r.resultsClasses),l.addAttributes(s,r.resultsElementAttributes);var o=s;if(r.detail.containerClasses){var c=document.createElement("div");if(l.addRemoveClasses(c,r.detail.containerClasses),o=document.createElement(r.detail.textElementType),l.addRemoveClasses(o,r.detail.textElementClasses),c.appendChild(o),r.detail.background){var u=document.createElement(r.detail.background.elementType);l.addRemoveClasses(u,r.detail.background.elementClasses),u.setAttribute("src",this.view.getBackgroundImageForItemInNamedCollection(e,t)),s.appendChild(u)}var f=document.createElement("div");if(c.appendChild(f),r.detail.badge){var m=this.view.getBadgeValueForItemInNamedCollection(e,t);if(m>0){var h=document.createElement(r.detail.badge.elementType);l.addRemoveClasses(h,r.detail.badge.elementClasses),l.addAttributes(h,r.detail.badge.elementAttributes),f.appendChild(h),h.innerHTML="&nbsp;&nbsp;&nbsp;"+m+"&nbsp;&nbsp;&nbsp;"}}if(r.extraActions&&r.extraActions.forEach((function(i){if(n.view.hasPermissionToActionItemInNamedCollection(i.name,e,t)){var a=document.createElement("button");if(a.setAttribute("type","button"),l.addRemoveClasses(a,i.buttonClasses),l.addAttributes(a,i.attributes),i.buttonText&&(a.innerHTML=i.buttonText),i.iconClasses){var r=document.createElement("i");l.addRemoveClasses(r,i.iconClasses),r.setAttribute(d,i.name),a.appendChild(r)}a.setAttribute(d,i.name),a.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),n.eventHandler.eventActionClicked(e)})),f.appendChild(a)}})),r.detail.delete&&a){var g=document.createElement("button");if(g.setAttribute("type","button"),l.addRemoveClasses(g,r.detail.delete.buttonClasses),l.addAttributes(g,r.detail.delete.attributes),r.detail.delete.buttonText&&(g.innerHTML=r.detail.delete.buttonText),r.detail.delete.iconClasses){var p=document.createElement("i");l.addRemoveClasses(p,r.detail.delete.iconClasses),g.appendChild(p)}g.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),n.eventHandler.eventDeleteClickItem(e)})),f.appendChild(g)}s.appendChild(c),r.detail.drag&&(s.setAttribute("draggable","true"),s.addEventListener("dragstart",this.eventHandler.eventStartDrag)),r.detail.select&&s.addEventListener("click",this.eventHandler.eventClickItem)}if(this.view.renderDisplayForItemInNamedCollection(o,e,t),r.detail.icons&&r.detail.icons(e,t).forEach((function(e){var t=document.createElement("i");l.addRemoveClasses(t,e),o.appendChild(t)})),r.modifiers){var v=this.view.getModifierForItemInNamedCollection(e,t),b=this.view.getSecondaryModifierForItemInNamedCollection(e,t);switch(v){case i.normal:if(rn("view "+this.view.getName()+": normal item"),l.addRemoveClasses(s,r.modifiers.normal),r.icons&&r.icons.normal){var y=document.createElement("i");l.addRemoveClasses(y,r.icons.normal),o.appendChild(y)}switch(b){case i.warning:if(l.addRemoveClasses(s,r.modifiers.normal,!1),l.addRemoveClasses(s,r.modifiers.warning,!0),r.icons&&r.icons.warning){var I=document.createElement("i");l.addRemoveClasses(I,r.icons.warning),o.appendChild(I)}break;case i.active:if(r.icons&&r.icons.active){var C=document.createElement("i");l.addRemoveClasses(C,r.icons.active),o.appendChild(C)}}break;case i.active:if(rn("view "+this.view.getName()+": active item"),l.addRemoveClasses(s,r.modifiers.active),r.icons&&r.icons.active){var E=document.createElement("i");l.addRemoveClasses(E,r.icons.active),o.appendChild(E)}switch(b){case i.warning:if(l.addRemoveClasses(s,r.modifiers.active,!1),l.addRemoveClasses(s,r.modifiers.warning,!0),r.icons&&r.icons.warning){var w=document.createElement("i");l.addRemoveClasses(w,r.icons.warning),o.appendChild(w)}}break;case i.inactive:if(rn("view "+this.view.getName()+": inactive item"),l.addRemoveClasses(s,r.modifiers.inactive),r.icons&&r.icons.inactive){var F=document.createElement("i");l.addRemoveClasses(F,r.icons.inactive),o.appendChild(F)}switch(b){case i.warning:if(r.icons&&r.icons.warning){l.addRemoveClasses(s,r.modifiers.inactive,!1),l.addRemoveClasses(s,r.modifiers.warning,!0);var N=document.createElement("i");l.addRemoveClasses(N,r.icons.warning),o.appendChild(N)}break;case i.active:if(r.icons&&r.icons.active){var T=document.createElement("i");l.addRemoveClasses(T,r.icons.active),o.appendChild(T)}}break;case i.warning:if(rn("view "+this.view.getName()+": warning item"),l.addRemoveClasses(s,r.modifiers.warning),r.icons&&r.icons.warning){var D=document.createElement("i");l.addRemoveClasses(D,r.icons.warning),o.appendChild(D)}}}return s},t.setDisplayElementsForCollectionInContainer=function(e,t,n){var i=this;rn("view "+this.view.getName()+": creating Results"),rn(n),l.removeAllChildren(e),n.map((function(n,a){var r=i.createDisplayElementForCollectionItem(t,n);rn("view "+i.view.getName()+":  Adding child "+i.view.getIdForItemInNamedCollection(t,n)),e.appendChild(r),j.getInstance().addContextToElement(i.view.getName(),t,n,r,!0),r.addEventListener("contextmenu",j.getInstance().handleContextMenu)})),$('[data-toggle="tooltip"]').tooltip()},t.onDocumentLoaded=function(){},e}();function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dn=function(e){var t,n;function i(t,n){return e.call(this,t,n)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,on(t,n),i.prototype.getItemContext=function(e){var t=j.getInstance().findContextFromEvent(e);return t?{itemId:t.identifier,dataSource:t.source}:{itemId:"",dataSource:this.view.getName()}},i}(T);function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var un=u()("transactions-view"),fn=function(e){var t,n;function a(t){var n;return(n=e.call(this,a.DOMConfig,t,Z)||this).renderer=new sn(ln(n),ln(n)),n.eventHandlerDelegate=new dn(ln(n),n.eventForwarder),n.getIdForItemInNamedCollection=n.getIdForItemInNamedCollection.bind(ln(n)),n.getItemId=n.getItemId.bind(ln(n)),j.getInstance().addContextFromView(ln(n),Z,"Exercise Types"),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,cn(t,n);var r=a.prototype;return r.getItemDescription=function(e,t){un(t);var n="";return n+="<strong>"+Le()(t.createdOn,"YYYYMMDDHHmmss").format("DD/MM/YY HH:mm")+"</strong> - "+t.name+":","deposit"===t.type?n+="+":n+="-",n+new Intl.NumberFormat(void 0,{style:"currency",currency:"AUD"}).format(parseFloat(t.amount))},r.getModifierForItemInNamedCollection=function(e,t){return"deposit"===t.type?i.active:i.warning},r.canDeleteItem=function(e,t){return!0},r.compareItemsForEquality=function(e,t){return p(e,t)},r.getIdForItemInNamedCollection=function(e,t){return t._id},r.renderDisplayForItemInNamedCollection=function(e,t,n){var i="";i+='<div class="row"><div class="col-md-12 col-lg-6"><strong>'+Le()(n.createdOn,"YYYYMMDDHHmmss").format("DD/MM/YY HH:mm")+"</strong> - "+n.name+'</div><div class="col-md-12 col-lg text-right">',"deposit"===n.type?i+="+":i+="-",i+=new Intl.NumberFormat(void 0,{style:"currency",currency:"AUD"}).format(parseFloat(n.amount))+"</div></div>",e.innerHTML=i},r.hasPermissionToDeleteItemInNamedCollection=function(e,t){return!0},r.hasPermissionToUpdateItemInNamedCollection=function(e,t){return!1},r.itemAction=function(e,t,n){},a}(an);fn.DOMConfig={viewConfig:{resultsContainerId:"transactions",dataSourceId:ee},resultsElementType:"a",resultsElementAttributes:[{name:"href",value:"#"}],resultsClasses:"list-group-item my-list-item truncate-notification list-group-item-action",keyId:"_id",keyType:a.string,modifiers:{normal:"",inactive:"",active:"list-group-item-primary",warning:"list-group-item-warning"},icons:{normal:"",inactive:"",active:"",warning:""},detail:{containerClasses:"d-flex w-100 justify-content-between",textElementType:"div",textElementClasses:"container-fluid transaction-text",select:!1,delete:{buttonClasses:"btn bg-danger text-white btn-circle btn-sm",buttonText:"",iconClasses:"fas fa-trash-alt"}}};var mn=function(){function e(e,t){this.canUpdate=e,this.canDelete=t}var t=e.prototype;return t.hasPermissionToUpdateItem=function(e){return this.canUpdate},t.hasPermissionToDeleteItem=function(e){return this.canDelete},e}(),hn=u()("transactions-composite-view"),gn=function(){function e(){}var t=e.prototype;return t.onDocumentLoaded=function(){var e=new fn(nt.getInstance().getStateManager()),t=$e.getInstance().findDefinition(Z);if(t){var n=new qt(ne,t,new mn(!1,!1)),i=new Wt({resultsContainerId:ne,dataSourceId:ee},n),a=new Zt(Z,e);a.addLinkedDetailView(i),e.onDocumentLoaded(),i.onDocumentLoaded();var r=Je.getInstance().generateStartingDisplayOrder(t);i.initialise(r,!1,!0);var s=n.getForm();console.log(s),null==s||s.addFormListener(this);var o=document.getElementById("addNew");if(hn("Setting up button for creating transactions"),o&&o.addEventListener("click",(function(e){hn("Asking view linker to start a new object"),a.startNewObject();var t=document.getElementById(ie);t&&l.addRemoveClasses(t,"d-none",!1)})),a.addListener(nt.getInstance()),window.innerWidth<415){var d=document.getElementById(ie);d&&l.addRemoveClasses(d,"d-none")}}},t.formChanged=function(e,t){if(e.eventType===it.SAVED){if(window.innerWidth<415){var n=document.getElementById(ie);n&&l.addRemoveClasses(n,"d-none")}var i=document.getElementById("transactionListScroll");if(i){var a=i.querySelectorAll("a");if(a.length>0){var r=a.item(a.length-1);l.scrollToBottomSmooth(r,r.scrollHeight)}}}if(e.eventType===it.CANCELLED&&window.innerWidth<415){var s=document.getElementById(ie);s&&l.addRemoveClasses(s,"d-none")}return!1},e}(),pn=n(9403),vn=u()("budget-summary-renderer"),bn=function(){function e(e,t){this.currentChart=null,this.view=e,this.eventHandler=t}var t=e.prototype;return t.createDisplayElementForCollectionItem=function(e,t){return document.createElement("a")},t.setDisplayElementsForCollectionInContainer=function(e,t,n){vn("view "+this.view.getName()+": creating budget summary"),vn(n),this.currentChart&&this.currentChart.destroy();var i=0,a=n.map((function(e){return Le()(e.createdOn,"YYYYMMDDHHmmss").format("DD/MM/YYYY")})),r=n.map((function(e){return"deposit"===e.type?i+=parseFloat(e.amount):i-=parseFloat(e.amount),i}));this.currentChart=new pn.Z(e,{type:"line",data:{labels:a,datasets:[{label:"Total Over Time",fill:!0,backgroundColor:"#6666ff",data:r}]}})},t.onDocumentLoaded=function(){},e}();function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e,t){return(In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cn=function(e){var t,n;function i(){var t;return(t=e.call(this,i.DOMConfig,nt.getInstance().getStateManager(),Z)||this).renderer=new bn(yn(t),yn(t)),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,In(t,n);var a=i.prototype;return a.canDeleteItem=function(e,t){return!1},a.compareItemsForEquality=function(e,t){return p(e,t)},a.getIdForItemInNamedCollection=function(e,t){return t._id},a.renderDisplayForItemInNamedCollection=function(e,t,n){},a.hasPermissionToDeleteItemInNamedCollection=function(e,t){return!1},a.hasPermissionToActionItemInNamedCollection=function(e,t,n){return!1},a.renderBackgroundForItemInNamedCollection=function(e,t,n){},i}(an);Cn.DOMConfig={viewConfig:{resultsContainerId:te,dataSourceId:te},resultsElementType:"canvas",resultsClasses:"",keyId:"_id",keyType:a.string,detail:{containerClasses:"",textElementType:"",textElementClasses:"",select:!1}},u().log=console.info.bind(console);var En=u()("app"),wn=function(){function e(){this.totalEl=null}var t=e.prototype;return t.onDocumentLoaded=function(){this.totalEl=document.getElementById("total"),nt.getInstance().getStateManager().addChangeListenerForName(Z,this)},t.getListenerName=function(){return"Balance"},t.stateChanged=function(e,t,n){var i=0;if(this.totalEl&&n&&n.length>0){n.forEach((function(e){if(e.type)switch(e.type){case"deposit":i+=parseFloat(e.amount);break;case"withdrawal":i-=parseFloat(e.amount)}}));var a=new Intl.NumberFormat(void 0,{style:"currency",currency:"AUD"});this.totalEl.innerHTML=a.format(i)}},t.stateChangedItemAdded=function(e,t,n){this.stateChanged(e,t,nt.getInstance().getStateManager().getStateByName(Z))},t.stateChangedItemRemoved=function(e,t,n){this.stateChanged(e,t,nt.getInstance().getStateManager().getStateByName(Z))},t.stateChangedItemUpdated=function(e,t,n,i){this.stateChanged(e,t,nt.getInstance().getStateManager().getStateByName(Z))},e}(),Fn=function(){function e(){nt.getInstance().connectToApplication(this,window.localStorage)}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.onDocumentLoad=function(){En("document loaded"),this.thisEl=document.getElementById("root"),(new gn).onDocumentLoaded(),(new Cn).onDocumentLoaded(),(new wn).onDocumentLoaded(),j.getInstance().onDocumentLoaded(),nt.getInstance().onDocumentLoaded()},e}();$((function(){Fn.getInstance().onDocumentLoad()}))},6700:(e,t,n)=>{var i={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=6700}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=t,e=[],i.O=(t,n,a,r)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){for(var[n,a,r]=e[c],o=!0,d=0;d<n.length;d++)(!1&r||s>=r)&&Object.keys(i.O).every((e=>i.O[e](n[d])))?n.splice(d--,1):(o=!1,r<s&&(s=r));if(o){e.splice(c--,1);var l=a();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,a,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={143:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[s,o,d]=n,l=0;if(s.some((t=>0!==e[t]))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(d)var c=d(i)}for(t&&t(n);l<s.length;l++)r=s[l],i.o(e,r)&&e[r]&&e[r][0](),e[s[l]]=0;return i.O(c)},n=self.webpackChunktemplate_feo_react_babel=self.webpackChunktemplate_feo_react_babel||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=i.O(void 0,[736],(()=>i(5708)));a=i.O(a)})();
//# sourceMappingURL=app.bundle.js.map